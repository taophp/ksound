├── .gitignore
├── Cargo.lock
├── Cargo.toml
├── LICENSE
├── README.md
└── src
    ├── config
        └── mod.rs
    ├── main.rs
    ├── player
        └── mod.rs
    └── ui
        └── mod.rs


/.gitignore:
--------------------------------------------------------------------------------
 1 | # Generated by Cargo
 2 | # will have compiled files and executables
 3 | debug/
 4 | target/
 5 | 
 6 | # These are backup files generated by rustfmt
 7 | **/*.rs.bk
 8 | 
 9 | # MSVC Windows builds of rustc generate these, which store debugging information
10 | *.pdb
11 | 
12 | # RustRover
13 | #  JetBrains specific template is maintained in a separate JetBrains.gitignore that can
14 | #  be found at https://github.com/github/gitignore/blob/main/Global/JetBrains.gitignore
15 | #  and can be added to the global gitignore or merged into this file.  For a more nuclear
16 | #  option (not recommended) you can uncomment the following to ignore the entire idea folder.
17 | #.idea/
18 | 
19 | # Added by cargo
20 | 
21 | /target
22 | 
23 | /.fossil
24 | /.fslckout
25 | /justfile
26 | 


--------------------------------------------------------------------------------
/Cargo.lock:
--------------------------------------------------------------------------------
   1 | # This file is automatically @generated by Cargo.
   2 | # It is not intended for manual editing.
   3 | version = 4
   4 | 
   5 | [[package]]
   6 | name = "adler2"
   7 | version = "2.0.0"
   8 | source = "registry+https://github.com/rust-lang/crates.io-index"
   9 | checksum = "512761e0bb2578dd7380c6baaa0f4ce03e84f95e960231d1dec8bf4d7d6e2627"
  10 | 
  11 | [[package]]
  12 | name = "aho-corasick"
  13 | version = "1.1.3"
  14 | source = "registry+https://github.com/rust-lang/crates.io-index"
  15 | checksum = "8e60d3430d3a69478ad0993f19238d2df97c507009a52b3c10addcd7f6bcb916"
  16 | dependencies = [
  17 |  "memchr",
  18 | ]
  19 | 
  20 | [[package]]
  21 | name = "alsa"
  22 | version = "0.9.1"
  23 | source = "registry+https://github.com/rust-lang/crates.io-index"
  24 | checksum = "ed7572b7ba83a31e20d1b48970ee402d2e3e0537dcfe0a3ff4d6eb7508617d43"
  25 | dependencies = [
  26 |  "alsa-sys",
  27 |  "bitflags 2.9.0",
  28 |  "cfg-if",
  29 |  "libc",
  30 | ]
  31 | 
  32 | [[package]]
  33 | name = "alsa-sys"
  34 | version = "0.3.1"
  35 | source = "registry+https://github.com/rust-lang/crates.io-index"
  36 | checksum = "db8fee663d06c4e303404ef5f40488a53e062f89ba8bfed81f42325aafad1527"
  37 | dependencies = [
  38 |  "libc",
  39 |  "pkg-config",
  40 | ]
  41 | 
  42 | [[package]]
  43 | name = "anstream"
  44 | version = "0.6.18"
  45 | source = "registry+https://github.com/rust-lang/crates.io-index"
  46 | checksum = "8acc5369981196006228e28809f761875c0327210a891e941f4c683b3a99529b"
  47 | dependencies = [
  48 |  "anstyle",
  49 |  "anstyle-parse",
  50 |  "anstyle-query",
  51 |  "anstyle-wincon",
  52 |  "colorchoice",
  53 |  "is_terminal_polyfill",
  54 |  "utf8parse",
  55 | ]
  56 | 
  57 | [[package]]
  58 | name = "anstyle"
  59 | version = "1.0.10"
  60 | source = "registry+https://github.com/rust-lang/crates.io-index"
  61 | checksum = "55cc3b69f167a1ef2e161439aa98aed94e6028e5f9a59be9a6ffb47aef1651f9"
  62 | 
  63 | [[package]]
  64 | name = "anstyle-parse"
  65 | version = "0.2.6"
  66 | source = "registry+https://github.com/rust-lang/crates.io-index"
  67 | checksum = "3b2d16507662817a6a20a9ea92df6652ee4f94f914589377d69f3b21bc5798a9"
  68 | dependencies = [
  69 |  "utf8parse",
  70 | ]
  71 | 
  72 | [[package]]
  73 | name = "anstyle-query"
  74 | version = "1.1.2"
  75 | source = "registry+https://github.com/rust-lang/crates.io-index"
  76 | checksum = "79947af37f4177cfead1110013d678905c37501914fba0efea834c3fe9a8d60c"
  77 | dependencies = [
  78 |  "windows-sys 0.59.0",
  79 | ]
  80 | 
  81 | [[package]]
  82 | name = "anstyle-wincon"
  83 | version = "3.0.7"
  84 | source = "registry+https://github.com/rust-lang/crates.io-index"
  85 | checksum = "ca3534e77181a9cc07539ad51f2141fe32f6c3ffd4df76db8ad92346b003ae4e"
  86 | dependencies = [
  87 |  "anstyle",
  88 |  "once_cell",
  89 |  "windows-sys 0.59.0",
  90 | ]
  91 | 
  92 | [[package]]
  93 | name = "anyhow"
  94 | version = "1.0.97"
  95 | source = "registry+https://github.com/rust-lang/crates.io-index"
  96 | checksum = "dcfed56ad506cb2c684a14971b8861fdc3baaaae314b9e5f9bb532cbe3ba7a4f"
  97 | 
  98 | [[package]]
  99 | name = "arrayvec"
 100 | version = "0.7.6"
 101 | source = "registry+https://github.com/rust-lang/crates.io-index"
 102 | checksum = "7c02d123df017efcdfbd739ef81735b36c5ba83ec3c59c80a9d7ecc718f92e50"
 103 | 
 104 | [[package]]
 105 | name = "autocfg"
 106 | version = "1.4.0"
 107 | source = "registry+https://github.com/rust-lang/crates.io-index"
 108 | checksum = "ace50bade8e6234aa140d9a2f552bbee1db4d353f69b8217bc503490fc1a9f26"
 109 | 
 110 | [[package]]
 111 | name = "bindgen"
 112 | version = "0.70.1"
 113 | source = "registry+https://github.com/rust-lang/crates.io-index"
 114 | checksum = "f49d8fed880d473ea71efb9bf597651e77201bdd4893efe54c9e5d65ae04ce6f"
 115 | dependencies = [
 116 |  "bitflags 2.9.0",
 117 |  "cexpr",
 118 |  "clang-sys",
 119 |  "itertools",
 120 |  "proc-macro2",
 121 |  "quote",
 122 |  "regex",
 123 |  "rustc-hash",
 124 |  "shlex",
 125 |  "syn",
 126 | ]
 127 | 
 128 | [[package]]
 129 | name = "bitflags"
 130 | version = "1.3.2"
 131 | source = "registry+https://github.com/rust-lang/crates.io-index"
 132 | checksum = "bef38d45163c2f1dde094a7dfd33ccf595c92905c8f8f4fdc18d06fb1037718a"
 133 | 
 134 | [[package]]
 135 | name = "bitflags"
 136 | version = "2.9.0"
 137 | source = "registry+https://github.com/rust-lang/crates.io-index"
 138 | checksum = "5c8214115b7bf84099f1309324e63141d4c5d7cc26862f97a0a857dbefe165bd"
 139 | 
 140 | [[package]]
 141 | name = "bumpalo"
 142 | version = "3.17.0"
 143 | source = "registry+https://github.com/rust-lang/crates.io-index"
 144 | checksum = "1628fb46dfa0b37568d12e5edd512553eccf6a22a78e8bde00bb4aed84d5bdbf"
 145 | 
 146 | [[package]]
 147 | name = "bytemuck"
 148 | version = "1.22.0"
 149 | source = "registry+https://github.com/rust-lang/crates.io-index"
 150 | checksum = "b6b1fc10dbac614ebc03540c9dbd60e83887fda27794998c6528f1782047d540"
 151 | 
 152 | [[package]]
 153 | name = "byteorder"
 154 | version = "1.5.0"
 155 | source = "registry+https://github.com/rust-lang/crates.io-index"
 156 | checksum = "1fd0f2584146f6f2ef48085050886acf353beff7305ebd1ae69500e27c67f64b"
 157 | 
 158 | [[package]]
 159 | name = "bytes"
 160 | version = "1.10.1"
 161 | source = "registry+https://github.com/rust-lang/crates.io-index"
 162 | checksum = "d71b6127be86fdcfddb610f7182ac57211d4b18a3e9c82eb2d17662f2227ad6a"
 163 | 
 164 | [[package]]
 165 | name = "cc"
 166 | version = "1.2.16"
 167 | source = "registry+https://github.com/rust-lang/crates.io-index"
 168 | checksum = "be714c154be609ec7f5dad223a33bf1482fff90472de28f7362806e6d4832b8c"
 169 | dependencies = [
 170 |  "jobserver",
 171 |  "libc",
 172 |  "shlex",
 173 | ]
 174 | 
 175 | [[package]]
 176 | name = "cesu8"
 177 | version = "1.1.0"
 178 | source = "registry+https://github.com/rust-lang/crates.io-index"
 179 | checksum = "6d43a04d8753f35258c91f8ec639f792891f748a1edbd759cf1dcea3382ad83c"
 180 | 
 181 | [[package]]
 182 | name = "cexpr"
 183 | version = "0.6.0"
 184 | source = "registry+https://github.com/rust-lang/crates.io-index"
 185 | checksum = "6fac387a98bb7c37292057cffc56d62ecb629900026402633ae9160df93a8766"
 186 | dependencies = [
 187 |  "nom",
 188 | ]
 189 | 
 190 | [[package]]
 191 | name = "cfg-if"
 192 | version = "1.0.0"
 193 | source = "registry+https://github.com/rust-lang/crates.io-index"
 194 | checksum = "baf1de4339761588bc0619e3cbc0120ee582ebb74b53b4efbf79117bd2da40fd"
 195 | 
 196 | [[package]]
 197 | name = "clang-sys"
 198 | version = "1.8.1"
 199 | source = "registry+https://github.com/rust-lang/crates.io-index"
 200 | checksum = "0b023947811758c97c59bf9d1c188fd619ad4718dcaa767947df1cadb14f39f4"
 201 | dependencies = [
 202 |  "glob",
 203 |  "libc",
 204 |  "libloading",
 205 | ]
 206 | 
 207 | [[package]]
 208 | name = "clap"
 209 | version = "4.5.32"
 210 | source = "registry+https://github.com/rust-lang/crates.io-index"
 211 | checksum = "6088f3ae8c3608d19260cd7445411865a485688711b78b5be70d78cd96136f83"
 212 | dependencies = [
 213 |  "clap_builder",
 214 |  "clap_derive",
 215 | ]
 216 | 
 217 | [[package]]
 218 | name = "clap_builder"
 219 | version = "4.5.32"
 220 | source = "registry+https://github.com/rust-lang/crates.io-index"
 221 | checksum = "22a7ef7f676155edfb82daa97f99441f3ebf4a58d5e32f295a56259f1b6facc8"
 222 | dependencies = [
 223 |  "anstream",
 224 |  "anstyle",
 225 |  "clap_lex",
 226 |  "strsim",
 227 | ]
 228 | 
 229 | [[package]]
 230 | name = "clap_derive"
 231 | version = "4.5.32"
 232 | source = "registry+https://github.com/rust-lang/crates.io-index"
 233 | checksum = "09176aae279615badda0765c0c0b3f6ed53f4709118af73cf4655d85d1530cd7"
 234 | dependencies = [
 235 |  "heck",
 236 |  "proc-macro2",
 237 |  "quote",
 238 |  "syn",
 239 | ]
 240 | 
 241 | [[package]]
 242 | name = "clap_lex"
 243 | version = "0.7.4"
 244 | source = "registry+https://github.com/rust-lang/crates.io-index"
 245 | checksum = "f46ad14479a25103f283c0f10005961cf086d8dc42205bb44c46ac563475dca6"
 246 | 
 247 | [[package]]
 248 | name = "claxon"
 249 | version = "0.4.3"
 250 | source = "registry+https://github.com/rust-lang/crates.io-index"
 251 | checksum = "4bfbf56724aa9eca8afa4fcfadeb479e722935bb2a0900c2d37e0cc477af0688"
 252 | 
 253 | [[package]]
 254 | name = "colorchoice"
 255 | version = "1.0.3"
 256 | source = "registry+https://github.com/rust-lang/crates.io-index"
 257 | checksum = "5b63caa9aa9397e2d9480a9b13673856c78d8ac123288526c37d7839f2a86990"
 258 | 
 259 | [[package]]
 260 | name = "combine"
 261 | version = "4.6.7"
 262 | source = "registry+https://github.com/rust-lang/crates.io-index"
 263 | checksum = "ba5a308b75df32fe02788e748662718f03fde005016435c444eea572398219fd"
 264 | dependencies = [
 265 |  "bytes",
 266 |  "memchr",
 267 | ]
 268 | 
 269 | [[package]]
 270 | name = "core-foundation-sys"
 271 | version = "0.8.7"
 272 | source = "registry+https://github.com/rust-lang/crates.io-index"
 273 | checksum = "773648b94d0e5d620f64f280777445740e61fe701025087ec8b57f45c791888b"
 274 | 
 275 | [[package]]
 276 | name = "coreaudio-rs"
 277 | version = "0.11.3"
 278 | source = "registry+https://github.com/rust-lang/crates.io-index"
 279 | checksum = "321077172d79c662f64f5071a03120748d5bb652f5231570141be24cfcd2bace"
 280 | dependencies = [
 281 |  "bitflags 1.3.2",
 282 |  "core-foundation-sys",
 283 |  "coreaudio-sys",
 284 | ]
 285 | 
 286 | [[package]]
 287 | name = "coreaudio-sys"
 288 | version = "0.2.16"
 289 | source = "registry+https://github.com/rust-lang/crates.io-index"
 290 | checksum = "2ce857aa0b77d77287acc1ac3e37a05a8c95a2af3647d23b15f263bdaeb7562b"
 291 | dependencies = [
 292 |  "bindgen",
 293 | ]
 294 | 
 295 | [[package]]
 296 | name = "cpal"
 297 | version = "0.15.3"
 298 | source = "registry+https://github.com/rust-lang/crates.io-index"
 299 | checksum = "873dab07c8f743075e57f524c583985fbaf745602acbe916a01539364369a779"
 300 | dependencies = [
 301 |  "alsa",
 302 |  "core-foundation-sys",
 303 |  "coreaudio-rs",
 304 |  "dasp_sample",
 305 |  "jni",
 306 |  "js-sys",
 307 |  "libc",
 308 |  "mach2",
 309 |  "ndk",
 310 |  "ndk-context",
 311 |  "oboe",
 312 |  "wasm-bindgen",
 313 |  "wasm-bindgen-futures",
 314 |  "web-sys",
 315 |  "windows",
 316 | ]
 317 | 
 318 | [[package]]
 319 | name = "crc32fast"
 320 | version = "1.4.2"
 321 | source = "registry+https://github.com/rust-lang/crates.io-index"
 322 | checksum = "a97769d94ddab943e4510d138150169a2758b5ef3eb191a9ee688de3e23ef7b3"
 323 | dependencies = [
 324 |  "cfg-if",
 325 | ]
 326 | 
 327 | [[package]]
 328 | name = "crossterm"
 329 | version = "0.28.1"
 330 | source = "registry+https://github.com/rust-lang/crates.io-index"
 331 | checksum = "829d955a0bb380ef178a640b91779e3987da38c9aea133b20614cfed8cdea9c6"
 332 | dependencies = [
 333 |  "bitflags 2.9.0",
 334 |  "crossterm_winapi",
 335 |  "mio",
 336 |  "parking_lot",
 337 |  "rustix",
 338 |  "signal-hook",
 339 |  "signal-hook-mio",
 340 |  "winapi",
 341 | ]
 342 | 
 343 | [[package]]
 344 | name = "crossterm_winapi"
 345 | version = "0.9.1"
 346 | source = "registry+https://github.com/rust-lang/crates.io-index"
 347 | checksum = "acdd7c62a3665c7f6830a51635d9ac9b23ed385797f70a83bb8bafe9c572ab2b"
 348 | dependencies = [
 349 |  "winapi",
 350 | ]
 351 | 
 352 | [[package]]
 353 | name = "dasp_sample"
 354 | version = "0.11.0"
 355 | source = "registry+https://github.com/rust-lang/crates.io-index"
 356 | checksum = "0c87e182de0887fd5361989c677c4e8f5000cd9491d6d563161a8f3a5519fc7f"
 357 | 
 358 | [[package]]
 359 | name = "dirs"
 360 | version = "6.0.0"
 361 | source = "registry+https://github.com/rust-lang/crates.io-index"
 362 | checksum = "c3e8aa94d75141228480295a7d0e7feb620b1a5ad9f12bc40be62411e38cce4e"
 363 | dependencies = [
 364 |  "dirs-sys",
 365 | ]
 366 | 
 367 | [[package]]
 368 | name = "dirs-sys"
 369 | version = "0.5.0"
 370 | source = "registry+https://github.com/rust-lang/crates.io-index"
 371 | checksum = "e01a3366d27ee9890022452ee61b2b63a67e6f13f58900b651ff5665f0bb1fab"
 372 | dependencies = [
 373 |  "libc",
 374 |  "option-ext",
 375 |  "redox_users",
 376 |  "windows-sys 0.59.0",
 377 | ]
 378 | 
 379 | [[package]]
 380 | name = "either"
 381 | version = "1.15.0"
 382 | source = "registry+https://github.com/rust-lang/crates.io-index"
 383 | checksum = "48c757948c5ede0e46177b7add2e67155f70e33c07fea8284df6576da70b3719"
 384 | 
 385 | [[package]]
 386 | name = "encoding_rs"
 387 | version = "0.8.35"
 388 | source = "registry+https://github.com/rust-lang/crates.io-index"
 389 | checksum = "75030f3c4f45dafd7586dd6780965a8c7e8e285a5ecb86713e63a79c5b2766f3"
 390 | dependencies = [
 391 |  "cfg-if",
 392 | ]
 393 | 
 394 | [[package]]
 395 | name = "equivalent"
 396 | version = "1.0.2"
 397 | source = "registry+https://github.com/rust-lang/crates.io-index"
 398 | checksum = "877a4ace8713b0bcf2a4e7eec82529c029f1d0619886d18145fea96c3ffe5c0f"
 399 | 
 400 | [[package]]
 401 | name = "errno"
 402 | version = "0.3.10"
 403 | source = "registry+https://github.com/rust-lang/crates.io-index"
 404 | checksum = "33d852cb9b869c2a9b3df2f71a3074817f01e1844f839a144f5fcef059a4eb5d"
 405 | dependencies = [
 406 |  "libc",
 407 |  "windows-sys 0.59.0",
 408 | ]
 409 | 
 410 | [[package]]
 411 | name = "extended"
 412 | version = "0.1.0"
 413 | source = "registry+https://github.com/rust-lang/crates.io-index"
 414 | checksum = "af9673d8203fcb076b19dfd17e38b3d4ae9f44959416ea532ce72415a6020365"
 415 | 
 416 | [[package]]
 417 | name = "flate2"
 418 | version = "1.1.0"
 419 | source = "registry+https://github.com/rust-lang/crates.io-index"
 420 | checksum = "11faaf5a5236997af9848be0bef4db95824b1d534ebc64d0f0c6cf3e67bd38dc"
 421 | dependencies = [
 422 |  "crc32fast",
 423 |  "miniz_oxide",
 424 | ]
 425 | 
 426 | [[package]]
 427 | name = "getrandom"
 428 | version = "0.2.15"
 429 | source = "registry+https://github.com/rust-lang/crates.io-index"
 430 | checksum = "c4567c8db10ae91089c99af84c68c38da3ec2f087c3f82960bcdbf3656b6f4d7"
 431 | dependencies = [
 432 |  "cfg-if",
 433 |  "libc",
 434 |  "wasi 0.11.0+wasi-snapshot-preview1",
 435 | ]
 436 | 
 437 | [[package]]
 438 | name = "getrandom"
 439 | version = "0.3.1"
 440 | source = "registry+https://github.com/rust-lang/crates.io-index"
 441 | checksum = "43a49c392881ce6d5c3b8cb70f98717b7c07aabbdff06687b9030dbfbe2725f8"
 442 | dependencies = [
 443 |  "cfg-if",
 444 |  "libc",
 445 |  "wasi 0.13.3+wasi-0.2.2",
 446 |  "windows-targets 0.52.6",
 447 | ]
 448 | 
 449 | [[package]]
 450 | name = "glob"
 451 | version = "0.3.2"
 452 | source = "registry+https://github.com/rust-lang/crates.io-index"
 453 | checksum = "a8d1add55171497b4705a648c6b583acafb01d58050a51727785f0b2c8e0a2b2"
 454 | 
 455 | [[package]]
 456 | name = "hashbrown"
 457 | version = "0.15.2"
 458 | source = "registry+https://github.com/rust-lang/crates.io-index"
 459 | checksum = "bf151400ff0baff5465007dd2f3e717f3fe502074ca563069ce3a6629d07b289"
 460 | 
 461 | [[package]]
 462 | name = "heck"
 463 | version = "0.5.0"
 464 | source = "registry+https://github.com/rust-lang/crates.io-index"
 465 | checksum = "2304e00983f87ffb38b55b444b5e3b60a884b5d30c0fca7d82fe33449bbe55ea"
 466 | 
 467 | [[package]]
 468 | name = "hound"
 469 | version = "3.5.1"
 470 | source = "registry+https://github.com/rust-lang/crates.io-index"
 471 | checksum = "62adaabb884c94955b19907d60019f4e145d091c75345379e70d1ee696f7854f"
 472 | 
 473 | [[package]]
 474 | name = "id3"
 475 | version = "1.16.2"
 476 | source = "registry+https://github.com/rust-lang/crates.io-index"
 477 | checksum = "472295f55960dd48e38c89442fa5d5423f5cf0ed2c665485be78e129231a39e9"
 478 | dependencies = [
 479 |  "bitflags 2.9.0",
 480 |  "byteorder",
 481 |  "flate2",
 482 | ]
 483 | 
 484 | [[package]]
 485 | name = "indexmap"
 486 | version = "2.8.0"
 487 | source = "registry+https://github.com/rust-lang/crates.io-index"
 488 | checksum = "3954d50fe15b02142bf25d3b8bdadb634ec3948f103d04ffe3031bc8fe9d7058"
 489 | dependencies = [
 490 |  "equivalent",
 491 |  "hashbrown",
 492 | ]
 493 | 
 494 | [[package]]
 495 | name = "is_terminal_polyfill"
 496 | version = "1.70.1"
 497 | source = "registry+https://github.com/rust-lang/crates.io-index"
 498 | checksum = "7943c866cc5cd64cbc25b2e01621d07fa8eb2a1a23160ee81ce38704e97b8ecf"
 499 | 
 500 | [[package]]
 501 | name = "itertools"
 502 | version = "0.13.0"
 503 | source = "registry+https://github.com/rust-lang/crates.io-index"
 504 | checksum = "413ee7dfc52ee1a4949ceeb7dbc8a33f2d6c088194d9f922fb8318faf1f01186"
 505 | dependencies = [
 506 |  "either",
 507 | ]
 508 | 
 509 | [[package]]
 510 | name = "jni"
 511 | version = "0.21.1"
 512 | source = "registry+https://github.com/rust-lang/crates.io-index"
 513 | checksum = "1a87aa2bb7d2af34197c04845522473242e1aa17c12f4935d5856491a7fb8c97"
 514 | dependencies = [
 515 |  "cesu8",
 516 |  "cfg-if",
 517 |  "combine",
 518 |  "jni-sys",
 519 |  "log",
 520 |  "thiserror 1.0.69",
 521 |  "walkdir",
 522 |  "windows-sys 0.45.0",
 523 | ]
 524 | 
 525 | [[package]]
 526 | name = "jni-sys"
 527 | version = "0.3.0"
 528 | source = "registry+https://github.com/rust-lang/crates.io-index"
 529 | checksum = "8eaf4bc02d17cbdd7ff4c7438cafcdf7fb9a4613313ad11b4f8fefe7d3fa0130"
 530 | 
 531 | [[package]]
 532 | name = "jobserver"
 533 | version = "0.1.32"
 534 | source = "registry+https://github.com/rust-lang/crates.io-index"
 535 | checksum = "48d1dbcbbeb6a7fec7e059840aa538bd62aaccf972c7346c4d9d2059312853d0"
 536 | dependencies = [
 537 |  "libc",
 538 | ]
 539 | 
 540 | [[package]]
 541 | name = "js-sys"
 542 | version = "0.3.77"
 543 | source = "registry+https://github.com/rust-lang/crates.io-index"
 544 | checksum = "1cfaf33c695fc6e08064efbc1f72ec937429614f25eef83af942d0e227c3a28f"
 545 | dependencies = [
 546 |  "once_cell",
 547 |  "wasm-bindgen",
 548 | ]
 549 | 
 550 | [[package]]
 551 | name = "ksound"
 552 | version = "0.1.0"
 553 | dependencies = [
 554 |  "anyhow",
 555 |  "clap",
 556 |  "crossterm",
 557 |  "dirs",
 558 |  "id3",
 559 |  "rand",
 560 |  "rodio",
 561 |  "serde",
 562 |  "symphonia",
 563 |  "thiserror 2.0.12",
 564 |  "toml",
 565 |  "walkdir",
 566 | ]
 567 | 
 568 | [[package]]
 569 | name = "lazy_static"
 570 | version = "1.5.0"
 571 | source = "registry+https://github.com/rust-lang/crates.io-index"
 572 | checksum = "bbd2bcb4c963f2ddae06a2efc7e9f3591312473c50c6685e1f298068316e66fe"
 573 | 
 574 | [[package]]
 575 | name = "lewton"
 576 | version = "0.10.2"
 577 | source = "registry+https://github.com/rust-lang/crates.io-index"
 578 | checksum = "777b48df9aaab155475a83a7df3070395ea1ac6902f5cd062b8f2b028075c030"
 579 | dependencies = [
 580 |  "byteorder",
 581 |  "ogg",
 582 |  "tinyvec",
 583 | ]
 584 | 
 585 | [[package]]
 586 | name = "libc"
 587 | version = "0.2.171"
 588 | source = "registry+https://github.com/rust-lang/crates.io-index"
 589 | checksum = "c19937216e9d3aa9956d9bb8dfc0b0c8beb6058fc4f7a4dc4d850edf86a237d6"
 590 | 
 591 | [[package]]
 592 | name = "libloading"
 593 | version = "0.8.6"
 594 | source = "registry+https://github.com/rust-lang/crates.io-index"
 595 | checksum = "fc2f4eb4bc735547cfed7c0a4922cbd04a4655978c09b54f1f7b228750664c34"
 596 | dependencies = [
 597 |  "cfg-if",
 598 |  "windows-targets 0.52.6",
 599 | ]
 600 | 
 601 | [[package]]
 602 | name = "libredox"
 603 | version = "0.1.3"
 604 | source = "registry+https://github.com/rust-lang/crates.io-index"
 605 | checksum = "c0ff37bd590ca25063e35af745c343cb7a0271906fb7b37e4813e8f79f00268d"
 606 | dependencies = [
 607 |  "bitflags 2.9.0",
 608 |  "libc",
 609 | ]
 610 | 
 611 | [[package]]
 612 | name = "linux-raw-sys"
 613 | version = "0.4.15"
 614 | source = "registry+https://github.com/rust-lang/crates.io-index"
 615 | checksum = "d26c52dbd32dccf2d10cac7725f8eae5296885fb5703b261f7d0a0739ec807ab"
 616 | 
 617 | [[package]]
 618 | name = "lock_api"
 619 | version = "0.4.12"
 620 | source = "registry+https://github.com/rust-lang/crates.io-index"
 621 | checksum = "07af8b9cdd281b7915f413fa73f29ebd5d55d0d3f0155584dade1ff18cea1b17"
 622 | dependencies = [
 623 |  "autocfg",
 624 |  "scopeguard",
 625 | ]
 626 | 
 627 | [[package]]
 628 | name = "log"
 629 | version = "0.4.26"
 630 | source = "registry+https://github.com/rust-lang/crates.io-index"
 631 | checksum = "30bde2b3dc3671ae49d8e2e9f044c7c005836e7a023ee57cffa25ab82764bb9e"
 632 | 
 633 | [[package]]
 634 | name = "mach2"
 635 | version = "0.4.2"
 636 | source = "registry+https://github.com/rust-lang/crates.io-index"
 637 | checksum = "19b955cdeb2a02b9117f121ce63aa52d08ade45de53e48fe6a38b39c10f6f709"
 638 | dependencies = [
 639 |  "libc",
 640 | ]
 641 | 
 642 | [[package]]
 643 | name = "memchr"
 644 | version = "2.7.4"
 645 | source = "registry+https://github.com/rust-lang/crates.io-index"
 646 | checksum = "78ca9ab1a0babb1e7d5695e3530886289c18cf2f87ec19a575a0abdce112e3a3"
 647 | 
 648 | [[package]]
 649 | name = "minimal-lexical"
 650 | version = "0.2.1"
 651 | source = "registry+https://github.com/rust-lang/crates.io-index"
 652 | checksum = "68354c5c6bd36d73ff3feceb05efa59b6acb7626617f4962be322a825e61f79a"
 653 | 
 654 | [[package]]
 655 | name = "miniz_oxide"
 656 | version = "0.8.5"
 657 | source = "registry+https://github.com/rust-lang/crates.io-index"
 658 | checksum = "8e3e04debbb59698c15bacbb6d93584a8c0ca9cc3213cb423d31f760d8843ce5"
 659 | dependencies = [
 660 |  "adler2",
 661 | ]
 662 | 
 663 | [[package]]
 664 | name = "mio"
 665 | version = "1.0.3"
 666 | source = "registry+https://github.com/rust-lang/crates.io-index"
 667 | checksum = "2886843bf800fba2e3377cff24abf6379b4c4d5c6681eaf9ea5b0d15090450bd"
 668 | dependencies = [
 669 |  "libc",
 670 |  "log",
 671 |  "wasi 0.11.0+wasi-snapshot-preview1",
 672 |  "windows-sys 0.52.0",
 673 | ]
 674 | 
 675 | [[package]]
 676 | name = "ndk"
 677 | version = "0.8.0"
 678 | source = "registry+https://github.com/rust-lang/crates.io-index"
 679 | checksum = "2076a31b7010b17a38c01907c45b945e8f11495ee4dd588309718901b1f7a5b7"
 680 | dependencies = [
 681 |  "bitflags 2.9.0",
 682 |  "jni-sys",
 683 |  "log",
 684 |  "ndk-sys",
 685 |  "num_enum",
 686 |  "thiserror 1.0.69",
 687 | ]
 688 | 
 689 | [[package]]
 690 | name = "ndk-context"
 691 | version = "0.1.1"
 692 | source = "registry+https://github.com/rust-lang/crates.io-index"
 693 | checksum = "27b02d87554356db9e9a873add8782d4ea6e3e58ea071a9adb9a2e8ddb884a8b"
 694 | 
 695 | [[package]]
 696 | name = "ndk-sys"
 697 | version = "0.5.0+25.2.9519653"
 698 | source = "registry+https://github.com/rust-lang/crates.io-index"
 699 | checksum = "8c196769dd60fd4f363e11d948139556a344e79d451aeb2fa2fd040738ef7691"
 700 | dependencies = [
 701 |  "jni-sys",
 702 | ]
 703 | 
 704 | [[package]]
 705 | name = "nom"
 706 | version = "7.1.3"
 707 | source = "registry+https://github.com/rust-lang/crates.io-index"
 708 | checksum = "d273983c5a657a70a3e8f2a01329822f3b8c8172b73826411a55751e404a0a4a"
 709 | dependencies = [
 710 |  "memchr",
 711 |  "minimal-lexical",
 712 | ]
 713 | 
 714 | [[package]]
 715 | name = "num-derive"
 716 | version = "0.4.2"
 717 | source = "registry+https://github.com/rust-lang/crates.io-index"
 718 | checksum = "ed3955f1a9c7c0c15e092f9c887db08b1fc683305fdf6eb6684f22555355e202"
 719 | dependencies = [
 720 |  "proc-macro2",
 721 |  "quote",
 722 |  "syn",
 723 | ]
 724 | 
 725 | [[package]]
 726 | name = "num-traits"
 727 | version = "0.2.19"
 728 | source = "registry+https://github.com/rust-lang/crates.io-index"
 729 | checksum = "071dfc062690e90b734c0b2273ce72ad0ffa95f0c74596bc250dcfd960262841"
 730 | dependencies = [
 731 |  "autocfg",
 732 | ]
 733 | 
 734 | [[package]]
 735 | name = "num_enum"
 736 | version = "0.7.3"
 737 | source = "registry+https://github.com/rust-lang/crates.io-index"
 738 | checksum = "4e613fc340b2220f734a8595782c551f1250e969d87d3be1ae0579e8d4065179"
 739 | dependencies = [
 740 |  "num_enum_derive",
 741 | ]
 742 | 
 743 | [[package]]
 744 | name = "num_enum_derive"
 745 | version = "0.7.3"
 746 | source = "registry+https://github.com/rust-lang/crates.io-index"
 747 | checksum = "af1844ef2428cc3e1cb900be36181049ef3d3193c63e43026cfe202983b27a56"
 748 | dependencies = [
 749 |  "proc-macro-crate",
 750 |  "proc-macro2",
 751 |  "quote",
 752 |  "syn",
 753 | ]
 754 | 
 755 | [[package]]
 756 | name = "oboe"
 757 | version = "0.6.1"
 758 | source = "registry+https://github.com/rust-lang/crates.io-index"
 759 | checksum = "e8b61bebd49e5d43f5f8cc7ee2891c16e0f41ec7954d36bcb6c14c5e0de867fb"
 760 | dependencies = [
 761 |  "jni",
 762 |  "ndk",
 763 |  "ndk-context",
 764 |  "num-derive",
 765 |  "num-traits",
 766 |  "oboe-sys",
 767 | ]
 768 | 
 769 | [[package]]
 770 | name = "oboe-sys"
 771 | version = "0.6.1"
 772 | source = "registry+https://github.com/rust-lang/crates.io-index"
 773 | checksum = "6c8bb09a4a2b1d668170cfe0a7d5bc103f8999fb316c98099b6a9939c9f2e79d"
 774 | dependencies = [
 775 |  "cc",
 776 | ]
 777 | 
 778 | [[package]]
 779 | name = "ogg"
 780 | version = "0.8.0"
 781 | source = "registry+https://github.com/rust-lang/crates.io-index"
 782 | checksum = "6951b4e8bf21c8193da321bcce9c9dd2e13c858fe078bf9054a288b419ae5d6e"
 783 | dependencies = [
 784 |  "byteorder",
 785 | ]
 786 | 
 787 | [[package]]
 788 | name = "once_cell"
 789 | version = "1.21.0"
 790 | source = "registry+https://github.com/rust-lang/crates.io-index"
 791 | checksum = "cde51589ab56b20a6f686b2c68f7a0bd6add753d697abf720d63f8db3ab7b1ad"
 792 | 
 793 | [[package]]
 794 | name = "option-ext"
 795 | version = "0.2.0"
 796 | source = "registry+https://github.com/rust-lang/crates.io-index"
 797 | checksum = "04744f49eae99ab78e0d5c0b603ab218f515ea8cfe5a456d7629ad883a3b6e7d"
 798 | 
 799 | [[package]]
 800 | name = "parking_lot"
 801 | version = "0.12.3"
 802 | source = "registry+https://github.com/rust-lang/crates.io-index"
 803 | checksum = "f1bf18183cf54e8d6059647fc3063646a1801cf30896933ec2311622cc4b9a27"
 804 | dependencies = [
 805 |  "lock_api",
 806 |  "parking_lot_core",
 807 | ]
 808 | 
 809 | [[package]]
 810 | name = "parking_lot_core"
 811 | version = "0.9.10"
 812 | source = "registry+https://github.com/rust-lang/crates.io-index"
 813 | checksum = "1e401f977ab385c9e4e3ab30627d6f26d00e2c73eef317493c4ec6d468726cf8"
 814 | dependencies = [
 815 |  "cfg-if",
 816 |  "libc",
 817 |  "redox_syscall",
 818 |  "smallvec",
 819 |  "windows-targets 0.52.6",
 820 | ]
 821 | 
 822 | [[package]]
 823 | name = "pkg-config"
 824 | version = "0.3.32"
 825 | source = "registry+https://github.com/rust-lang/crates.io-index"
 826 | checksum = "7edddbd0b52d732b21ad9a5fab5c704c14cd949e5e9a1ec5929a24fded1b904c"
 827 | 
 828 | [[package]]
 829 | name = "ppv-lite86"
 830 | version = "0.2.21"
 831 | source = "registry+https://github.com/rust-lang/crates.io-index"
 832 | checksum = "85eae3c4ed2f50dcfe72643da4befc30deadb458a9b590d720cde2f2b1e97da9"
 833 | dependencies = [
 834 |  "zerocopy",
 835 | ]
 836 | 
 837 | [[package]]
 838 | name = "proc-macro-crate"
 839 | version = "3.3.0"
 840 | source = "registry+https://github.com/rust-lang/crates.io-index"
 841 | checksum = "edce586971a4dfaa28950c6f18ed55e0406c1ab88bbce2c6f6293a7aaba73d35"
 842 | dependencies = [
 843 |  "toml_edit",
 844 | ]
 845 | 
 846 | [[package]]
 847 | name = "proc-macro2"
 848 | version = "1.0.94"
 849 | source = "registry+https://github.com/rust-lang/crates.io-index"
 850 | checksum = "a31971752e70b8b2686d7e46ec17fb38dad4051d94024c88df49b667caea9c84"
 851 | dependencies = [
 852 |  "unicode-ident",
 853 | ]
 854 | 
 855 | [[package]]
 856 | name = "quote"
 857 | version = "1.0.40"
 858 | source = "registry+https://github.com/rust-lang/crates.io-index"
 859 | checksum = "1885c039570dc00dcb4ff087a89e185fd56bae234ddc7f056a945bf36467248d"
 860 | dependencies = [
 861 |  "proc-macro2",
 862 | ]
 863 | 
 864 | [[package]]
 865 | name = "rand"
 866 | version = "0.9.0"
 867 | source = "registry+https://github.com/rust-lang/crates.io-index"
 868 | checksum = "3779b94aeb87e8bd4e834cee3650289ee9e0d5677f976ecdb6d219e5f4f6cd94"
 869 | dependencies = [
 870 |  "rand_chacha",
 871 |  "rand_core",
 872 |  "zerocopy",
 873 | ]
 874 | 
 875 | [[package]]
 876 | name = "rand_chacha"
 877 | version = "0.9.0"
 878 | source = "registry+https://github.com/rust-lang/crates.io-index"
 879 | checksum = "d3022b5f1df60f26e1ffddd6c66e8aa15de382ae63b3a0c1bfc0e4d3e3f325cb"
 880 | dependencies = [
 881 |  "ppv-lite86",
 882 |  "rand_core",
 883 | ]
 884 | 
 885 | [[package]]
 886 | name = "rand_core"
 887 | version = "0.9.3"
 888 | source = "registry+https://github.com/rust-lang/crates.io-index"
 889 | checksum = "99d9a13982dcf210057a8a78572b2217b667c3beacbf3a0d8b454f6f82837d38"
 890 | dependencies = [
 891 |  "getrandom 0.3.1",
 892 | ]
 893 | 
 894 | [[package]]
 895 | name = "redox_syscall"
 896 | version = "0.5.10"
 897 | source = "registry+https://github.com/rust-lang/crates.io-index"
 898 | checksum = "0b8c0c260b63a8219631167be35e6a988e9554dbd323f8bd08439c8ed1302bd1"
 899 | dependencies = [
 900 |  "bitflags 2.9.0",
 901 | ]
 902 | 
 903 | [[package]]
 904 | name = "redox_users"
 905 | version = "0.5.0"
 906 | source = "registry+https://github.com/rust-lang/crates.io-index"
 907 | checksum = "dd6f9d3d47bdd2ad6945c5015a226ec6155d0bcdfd8f7cd29f86b71f8de99d2b"
 908 | dependencies = [
 909 |  "getrandom 0.2.15",
 910 |  "libredox",
 911 |  "thiserror 2.0.12",
 912 | ]
 913 | 
 914 | [[package]]
 915 | name = "regex"
 916 | version = "1.11.1"
 917 | source = "registry+https://github.com/rust-lang/crates.io-index"
 918 | checksum = "b544ef1b4eac5dc2db33ea63606ae9ffcfac26c1416a2806ae0bf5f56b201191"
 919 | dependencies = [
 920 |  "aho-corasick",
 921 |  "memchr",
 922 |  "regex-automata",
 923 |  "regex-syntax",
 924 | ]
 925 | 
 926 | [[package]]
 927 | name = "regex-automata"
 928 | version = "0.4.9"
 929 | source = "registry+https://github.com/rust-lang/crates.io-index"
 930 | checksum = "809e8dc61f6de73b46c85f4c96486310fe304c434cfa43669d7b40f711150908"
 931 | dependencies = [
 932 |  "aho-corasick",
 933 |  "memchr",
 934 |  "regex-syntax",
 935 | ]
 936 | 
 937 | [[package]]
 938 | name = "regex-syntax"
 939 | version = "0.8.5"
 940 | source = "registry+https://github.com/rust-lang/crates.io-index"
 941 | checksum = "2b15c43186be67a4fd63bee50d0303afffcef381492ebe2c5d87f324e1b8815c"
 942 | 
 943 | [[package]]
 944 | name = "rodio"
 945 | version = "0.20.1"
 946 | source = "registry+https://github.com/rust-lang/crates.io-index"
 947 | checksum = "e7ceb6607dd738c99bc8cb28eff249b7cd5c8ec88b9db96c0608c1480d140fb1"
 948 | dependencies = [
 949 |  "claxon",
 950 |  "cpal",
 951 |  "hound",
 952 |  "lewton",
 953 |  "symphonia",
 954 | ]
 955 | 
 956 | [[package]]
 957 | name = "rustc-hash"
 958 | version = "1.1.0"
 959 | source = "registry+https://github.com/rust-lang/crates.io-index"
 960 | checksum = "08d43f7aa6b08d49f382cde6a7982047c3426db949b1424bc4b7ec9ae12c6ce2"
 961 | 
 962 | [[package]]
 963 | name = "rustix"
 964 | version = "0.38.44"
 965 | source = "registry+https://github.com/rust-lang/crates.io-index"
 966 | checksum = "fdb5bc1ae2baa591800df16c9ca78619bf65c0488b41b96ccec5d11220d8c154"
 967 | dependencies = [
 968 |  "bitflags 2.9.0",
 969 |  "errno",
 970 |  "libc",
 971 |  "linux-raw-sys",
 972 |  "windows-sys 0.59.0",
 973 | ]
 974 | 
 975 | [[package]]
 976 | name = "rustversion"
 977 | version = "1.0.20"
 978 | source = "registry+https://github.com/rust-lang/crates.io-index"
 979 | checksum = "eded382c5f5f786b989652c49544c4877d9f015cc22e145a5ea8ea66c2921cd2"
 980 | 
 981 | [[package]]
 982 | name = "same-file"
 983 | version = "1.0.6"
 984 | source = "registry+https://github.com/rust-lang/crates.io-index"
 985 | checksum = "93fc1dc3aaa9bfed95e02e6eadabb4baf7e3078b0bd1b4d7b6b0b68378900502"
 986 | dependencies = [
 987 |  "winapi-util",
 988 | ]
 989 | 
 990 | [[package]]
 991 | name = "scopeguard"
 992 | version = "1.2.0"
 993 | source = "registry+https://github.com/rust-lang/crates.io-index"
 994 | checksum = "94143f37725109f92c262ed2cf5e59bce7498c01bcc1502d7b9afe439a4e9f49"
 995 | 
 996 | [[package]]
 997 | name = "serde"
 998 | version = "1.0.219"
 999 | source = "registry+https://github.com/rust-lang/crates.io-index"
1000 | checksum = "5f0e2c6ed6606019b4e29e69dbaba95b11854410e5347d525002456dbbb786b6"
1001 | dependencies = [
1002 |  "serde_derive",
1003 | ]
1004 | 
1005 | [[package]]
1006 | name = "serde_derive"
1007 | version = "1.0.219"
1008 | source = "registry+https://github.com/rust-lang/crates.io-index"
1009 | checksum = "5b0276cf7f2c73365f7157c8123c21cd9a50fbbd844757af28ca1f5925fc2a00"
1010 | dependencies = [
1011 |  "proc-macro2",
1012 |  "quote",
1013 |  "syn",
1014 | ]
1015 | 
1016 | [[package]]
1017 | name = "serde_spanned"
1018 | version = "0.6.8"
1019 | source = "registry+https://github.com/rust-lang/crates.io-index"
1020 | checksum = "87607cb1398ed59d48732e575a4c28a7a8ebf2454b964fe3f224f2afc07909e1"
1021 | dependencies = [
1022 |  "serde",
1023 | ]
1024 | 
1025 | [[package]]
1026 | name = "shlex"
1027 | version = "1.3.0"
1028 | source = "registry+https://github.com/rust-lang/crates.io-index"
1029 | checksum = "0fda2ff0d084019ba4d7c6f371c95d8fd75ce3524c3cb8fb653a3023f6323e64"
1030 | 
1031 | [[package]]
1032 | name = "signal-hook"
1033 | version = "0.3.17"
1034 | source = "registry+https://github.com/rust-lang/crates.io-index"
1035 | checksum = "8621587d4798caf8eb44879d42e56b9a93ea5dcd315a6487c357130095b62801"
1036 | dependencies = [
1037 |  "libc",
1038 |  "signal-hook-registry",
1039 | ]
1040 | 
1041 | [[package]]
1042 | name = "signal-hook-mio"
1043 | version = "0.2.4"
1044 | source = "registry+https://github.com/rust-lang/crates.io-index"
1045 | checksum = "34db1a06d485c9142248b7a054f034b349b212551f3dfd19c94d45a754a217cd"
1046 | dependencies = [
1047 |  "libc",
1048 |  "mio",
1049 |  "signal-hook",
1050 | ]
1051 | 
1052 | [[package]]
1053 | name = "signal-hook-registry"
1054 | version = "1.4.2"
1055 | source = "registry+https://github.com/rust-lang/crates.io-index"
1056 | checksum = "a9e9e0b4211b72e7b8b6e85c807d36c212bdb33ea8587f7569562a84df5465b1"
1057 | dependencies = [
1058 |  "libc",
1059 | ]
1060 | 
1061 | [[package]]
1062 | name = "smallvec"
1063 | version = "1.14.0"
1064 | source = "registry+https://github.com/rust-lang/crates.io-index"
1065 | checksum = "7fcf8323ef1faaee30a44a340193b1ac6814fd9b7b4e88e9d4519a3e4abe1cfd"
1066 | 
1067 | [[package]]
1068 | name = "strsim"
1069 | version = "0.11.1"
1070 | source = "registry+https://github.com/rust-lang/crates.io-index"
1071 | checksum = "7da8b5736845d9f2fcb837ea5d9e2628564b3b043a70948a3f0b778838c5fb4f"
1072 | 
1073 | [[package]]
1074 | name = "symphonia"
1075 | version = "0.5.4"
1076 | source = "registry+https://github.com/rust-lang/crates.io-index"
1077 | checksum = "815c942ae7ee74737bb00f965fa5b5a2ac2ce7b6c01c0cc169bbeaf7abd5f5a9"
1078 | dependencies = [
1079 |  "lazy_static",
1080 |  "symphonia-bundle-flac",
1081 |  "symphonia-bundle-mp3",
1082 |  "symphonia-codec-adpcm",
1083 |  "symphonia-codec-pcm",
1084 |  "symphonia-codec-vorbis",
1085 |  "symphonia-core",
1086 |  "symphonia-format-mkv",
1087 |  "symphonia-format-ogg",
1088 |  "symphonia-format-riff",
1089 |  "symphonia-metadata",
1090 | ]
1091 | 
1092 | [[package]]
1093 | name = "symphonia-bundle-flac"
1094 | version = "0.5.4"
1095 | source = "registry+https://github.com/rust-lang/crates.io-index"
1096 | checksum = "72e34f34298a7308d4397a6c7fbf5b84c5d491231ce3dd379707ba673ab3bd97"
1097 | dependencies = [
1098 |  "log",
1099 |  "symphonia-core",
1100 |  "symphonia-metadata",
1101 |  "symphonia-utils-xiph",
1102 | ]
1103 | 
1104 | [[package]]
1105 | name = "symphonia-bundle-mp3"
1106 | version = "0.5.4"
1107 | source = "registry+https://github.com/rust-lang/crates.io-index"
1108 | checksum = "c01c2aae70f0f1fb096b6f0ff112a930b1fb3626178fba3ae68b09dce71706d4"
1109 | dependencies = [
1110 |  "lazy_static",
1111 |  "log",
1112 |  "symphonia-core",
1113 |  "symphonia-metadata",
1114 | ]
1115 | 
1116 | [[package]]
1117 | name = "symphonia-codec-adpcm"
1118 | version = "0.5.4"
1119 | source = "registry+https://github.com/rust-lang/crates.io-index"
1120 | checksum = "c94e1feac3327cd616e973d5be69ad36b3945f16b06f19c6773fc3ac0b426a0f"
1121 | dependencies = [
1122 |  "log",
1123 |  "symphonia-core",
1124 | ]
1125 | 
1126 | [[package]]
1127 | name = "symphonia-codec-pcm"
1128 | version = "0.5.4"
1129 | source = "registry+https://github.com/rust-lang/crates.io-index"
1130 | checksum = "f395a67057c2ebc5e84d7bb1be71cce1a7ba99f64e0f0f0e303a03f79116f89b"
1131 | dependencies = [
1132 |  "log",
1133 |  "symphonia-core",
1134 | ]
1135 | 
1136 | [[package]]
1137 | name = "symphonia-codec-vorbis"
1138 | version = "0.5.4"
1139 | source = "registry+https://github.com/rust-lang/crates.io-index"
1140 | checksum = "5a98765fb46a0a6732b007f7e2870c2129b6f78d87db7987e6533c8f164a9f30"
1141 | dependencies = [
1142 |  "log",
1143 |  "symphonia-core",
1144 |  "symphonia-utils-xiph",
1145 | ]
1146 | 
1147 | [[package]]
1148 | name = "symphonia-core"
1149 | version = "0.5.4"
1150 | source = "registry+https://github.com/rust-lang/crates.io-index"
1151 | checksum = "798306779e3dc7d5231bd5691f5a813496dc79d3f56bf82e25789f2094e022c3"
1152 | dependencies = [
1153 |  "arrayvec",
1154 |  "bitflags 1.3.2",
1155 |  "bytemuck",
1156 |  "lazy_static",
1157 |  "log",
1158 | ]
1159 | 
1160 | [[package]]
1161 | name = "symphonia-format-mkv"
1162 | version = "0.5.4"
1163 | source = "registry+https://github.com/rust-lang/crates.io-index"
1164 | checksum = "1bb43471a100f7882dc9937395bd5ebee8329298e766250b15b3875652fe3d6f"
1165 | dependencies = [
1166 |  "lazy_static",
1167 |  "log",
1168 |  "symphonia-core",
1169 |  "symphonia-metadata",
1170 |  "symphonia-utils-xiph",
1171 | ]
1172 | 
1173 | [[package]]
1174 | name = "symphonia-format-ogg"
1175 | version = "0.5.4"
1176 | source = "registry+https://github.com/rust-lang/crates.io-index"
1177 | checksum = "ada3505789516bcf00fc1157c67729eded428b455c27ca370e41f4d785bfa931"
1178 | dependencies = [
1179 |  "log",
1180 |  "symphonia-core",
1181 |  "symphonia-metadata",
1182 |  "symphonia-utils-xiph",
1183 | ]
1184 | 
1185 | [[package]]
1186 | name = "symphonia-format-riff"
1187 | version = "0.5.4"
1188 | source = "registry+https://github.com/rust-lang/crates.io-index"
1189 | checksum = "05f7be232f962f937f4b7115cbe62c330929345434c834359425e043bfd15f50"
1190 | dependencies = [
1191 |  "extended",
1192 |  "log",
1193 |  "symphonia-core",
1194 |  "symphonia-metadata",
1195 | ]
1196 | 
1197 | [[package]]
1198 | name = "symphonia-metadata"
1199 | version = "0.5.4"
1200 | source = "registry+https://github.com/rust-lang/crates.io-index"
1201 | checksum = "bc622b9841a10089c5b18e99eb904f4341615d5aa55bbf4eedde1be721a4023c"
1202 | dependencies = [
1203 |  "encoding_rs",
1204 |  "lazy_static",
1205 |  "log",
1206 |  "symphonia-core",
1207 | ]
1208 | 
1209 | [[package]]
1210 | name = "symphonia-utils-xiph"
1211 | version = "0.5.4"
1212 | source = "registry+https://github.com/rust-lang/crates.io-index"
1213 | checksum = "484472580fa49991afda5f6550ece662237b00c6f562c7d9638d1b086ed010fe"
1214 | dependencies = [
1215 |  "symphonia-core",
1216 |  "symphonia-metadata",
1217 | ]
1218 | 
1219 | [[package]]
1220 | name = "syn"
1221 | version = "2.0.100"
1222 | source = "registry+https://github.com/rust-lang/crates.io-index"
1223 | checksum = "b09a44accad81e1ba1cd74a32461ba89dee89095ba17b32f5d03683b1b1fc2a0"
1224 | dependencies = [
1225 |  "proc-macro2",
1226 |  "quote",
1227 |  "unicode-ident",
1228 | ]
1229 | 
1230 | [[package]]
1231 | name = "thiserror"
1232 | version = "1.0.69"
1233 | source = "registry+https://github.com/rust-lang/crates.io-index"
1234 | checksum = "b6aaf5339b578ea85b50e080feb250a3e8ae8cfcdff9a461c9ec2904bc923f52"
1235 | dependencies = [
1236 |  "thiserror-impl 1.0.69",
1237 | ]
1238 | 
1239 | [[package]]
1240 | name = "thiserror"
1241 | version = "2.0.12"
1242 | source = "registry+https://github.com/rust-lang/crates.io-index"
1243 | checksum = "567b8a2dae586314f7be2a752ec7474332959c6460e02bde30d702a66d488708"
1244 | dependencies = [
1245 |  "thiserror-impl 2.0.12",
1246 | ]
1247 | 
1248 | [[package]]
1249 | name = "thiserror-impl"
1250 | version = "1.0.69"
1251 | source = "registry+https://github.com/rust-lang/crates.io-index"
1252 | checksum = "4fee6c4efc90059e10f81e6d42c60a18f76588c3d74cb83a0b242a2b6c7504c1"
1253 | dependencies = [
1254 |  "proc-macro2",
1255 |  "quote",
1256 |  "syn",
1257 | ]
1258 | 
1259 | [[package]]
1260 | name = "thiserror-impl"
1261 | version = "2.0.12"
1262 | source = "registry+https://github.com/rust-lang/crates.io-index"
1263 | checksum = "7f7cf42b4507d8ea322120659672cf1b9dbb93f8f2d4ecfd6e51350ff5b17a1d"
1264 | dependencies = [
1265 |  "proc-macro2",
1266 |  "quote",
1267 |  "syn",
1268 | ]
1269 | 
1270 | [[package]]
1271 | name = "tinyvec"
1272 | version = "1.9.0"
1273 | source = "registry+https://github.com/rust-lang/crates.io-index"
1274 | checksum = "09b3661f17e86524eccd4371ab0429194e0d7c008abb45f7a7495b1719463c71"
1275 | dependencies = [
1276 |  "tinyvec_macros",
1277 | ]
1278 | 
1279 | [[package]]
1280 | name = "tinyvec_macros"
1281 | version = "0.1.1"
1282 | source = "registry+https://github.com/rust-lang/crates.io-index"
1283 | checksum = "1f3ccbac311fea05f86f61904b462b55fb3df8837a366dfc601a0161d0532f20"
1284 | 
1285 | [[package]]
1286 | name = "toml"
1287 | version = "0.8.20"
1288 | source = "registry+https://github.com/rust-lang/crates.io-index"
1289 | checksum = "cd87a5cdd6ffab733b2f74bc4fd7ee5fff6634124999ac278c35fc78c6120148"
1290 | dependencies = [
1291 |  "serde",
1292 |  "serde_spanned",
1293 |  "toml_datetime",
1294 |  "toml_edit",
1295 | ]
1296 | 
1297 | [[package]]
1298 | name = "toml_datetime"
1299 | version = "0.6.8"
1300 | source = "registry+https://github.com/rust-lang/crates.io-index"
1301 | checksum = "0dd7358ecb8fc2f8d014bf86f6f638ce72ba252a2c3a2572f2a795f1d23efb41"
1302 | dependencies = [
1303 |  "serde",
1304 | ]
1305 | 
1306 | [[package]]
1307 | name = "toml_edit"
1308 | version = "0.22.24"
1309 | source = "registry+https://github.com/rust-lang/crates.io-index"
1310 | checksum = "17b4795ff5edd201c7cd6dca065ae59972ce77d1b80fa0a84d94950ece7d1474"
1311 | dependencies = [
1312 |  "indexmap",
1313 |  "serde",
1314 |  "serde_spanned",
1315 |  "toml_datetime",
1316 |  "winnow",
1317 | ]
1318 | 
1319 | [[package]]
1320 | name = "unicode-ident"
1321 | version = "1.0.18"
1322 | source = "registry+https://github.com/rust-lang/crates.io-index"
1323 | checksum = "5a5f39404a5da50712a4c1eecf25e90dd62b613502b7e925fd4e4d19b5c96512"
1324 | 
1325 | [[package]]
1326 | name = "utf8parse"
1327 | version = "0.2.2"
1328 | source = "registry+https://github.com/rust-lang/crates.io-index"
1329 | checksum = "06abde3611657adf66d383f00b093d7faecc7fa57071cce2578660c9f1010821"
1330 | 
1331 | [[package]]
1332 | name = "walkdir"
1333 | version = "2.5.0"
1334 | source = "registry+https://github.com/rust-lang/crates.io-index"
1335 | checksum = "29790946404f91d9c5d06f9874efddea1dc06c5efe94541a7d6863108e3a5e4b"
1336 | dependencies = [
1337 |  "same-file",
1338 |  "winapi-util",
1339 | ]
1340 | 
1341 | [[package]]
1342 | name = "wasi"
1343 | version = "0.11.0+wasi-snapshot-preview1"
1344 | source = "registry+https://github.com/rust-lang/crates.io-index"
1345 | checksum = "9c8d87e72b64a3b4db28d11ce29237c246188f4f51057d65a7eab63b7987e423"
1346 | 
1347 | [[package]]
1348 | name = "wasi"
1349 | version = "0.13.3+wasi-0.2.2"
1350 | source = "registry+https://github.com/rust-lang/crates.io-index"
1351 | checksum = "26816d2e1a4a36a2940b96c5296ce403917633dff8f3440e9b236ed6f6bacad2"
1352 | dependencies = [
1353 |  "wit-bindgen-rt",
1354 | ]
1355 | 
1356 | [[package]]
1357 | name = "wasm-bindgen"
1358 | version = "0.2.100"
1359 | source = "registry+https://github.com/rust-lang/crates.io-index"
1360 | checksum = "1edc8929d7499fc4e8f0be2262a241556cfc54a0bea223790e71446f2aab1ef5"
1361 | dependencies = [
1362 |  "cfg-if",
1363 |  "once_cell",
1364 |  "rustversion",
1365 |  "wasm-bindgen-macro",
1366 | ]
1367 | 
1368 | [[package]]
1369 | name = "wasm-bindgen-backend"
1370 | version = "0.2.100"
1371 | source = "registry+https://github.com/rust-lang/crates.io-index"
1372 | checksum = "2f0a0651a5c2bc21487bde11ee802ccaf4c51935d0d3d42a6101f98161700bc6"
1373 | dependencies = [
1374 |  "bumpalo",
1375 |  "log",
1376 |  "proc-macro2",
1377 |  "quote",
1378 |  "syn",
1379 |  "wasm-bindgen-shared",
1380 | ]
1381 | 
1382 | [[package]]
1383 | name = "wasm-bindgen-futures"
1384 | version = "0.4.50"
1385 | source = "registry+https://github.com/rust-lang/crates.io-index"
1386 | checksum = "555d470ec0bc3bb57890405e5d4322cc9ea83cebb085523ced7be4144dac1e61"
1387 | dependencies = [
1388 |  "cfg-if",
1389 |  "js-sys",
1390 |  "once_cell",
1391 |  "wasm-bindgen",
1392 |  "web-sys",
1393 | ]
1394 | 
1395 | [[package]]
1396 | name = "wasm-bindgen-macro"
1397 | version = "0.2.100"
1398 | source = "registry+https://github.com/rust-lang/crates.io-index"
1399 | checksum = "7fe63fc6d09ed3792bd0897b314f53de8e16568c2b3f7982f468c0bf9bd0b407"
1400 | dependencies = [
1401 |  "quote",
1402 |  "wasm-bindgen-macro-support",
1403 | ]
1404 | 
1405 | [[package]]
1406 | name = "wasm-bindgen-macro-support"
1407 | version = "0.2.100"
1408 | source = "registry+https://github.com/rust-lang/crates.io-index"
1409 | checksum = "8ae87ea40c9f689fc23f209965b6fb8a99ad69aeeb0231408be24920604395de"
1410 | dependencies = [
1411 |  "proc-macro2",
1412 |  "quote",
1413 |  "syn",
1414 |  "wasm-bindgen-backend",
1415 |  "wasm-bindgen-shared",
1416 | ]
1417 | 
1418 | [[package]]
1419 | name = "wasm-bindgen-shared"
1420 | version = "0.2.100"
1421 | source = "registry+https://github.com/rust-lang/crates.io-index"
1422 | checksum = "1a05d73b933a847d6cccdda8f838a22ff101ad9bf93e33684f39c1f5f0eece3d"
1423 | dependencies = [
1424 |  "unicode-ident",
1425 | ]
1426 | 
1427 | [[package]]
1428 | name = "web-sys"
1429 | version = "0.3.77"
1430 | source = "registry+https://github.com/rust-lang/crates.io-index"
1431 | checksum = "33b6dd2ef9186f1f2072e409e99cd22a975331a6b3591b12c764e0e55c60d5d2"
1432 | dependencies = [
1433 |  "js-sys",
1434 |  "wasm-bindgen",
1435 | ]
1436 | 
1437 | [[package]]
1438 | name = "winapi"
1439 | version = "0.3.9"
1440 | source = "registry+https://github.com/rust-lang/crates.io-index"
1441 | checksum = "5c839a674fcd7a98952e593242ea400abe93992746761e38641405d28b00f419"
1442 | dependencies = [
1443 |  "winapi-i686-pc-windows-gnu",
1444 |  "winapi-x86_64-pc-windows-gnu",
1445 | ]
1446 | 
1447 | [[package]]
1448 | name = "winapi-i686-pc-windows-gnu"
1449 | version = "0.4.0"
1450 | source = "registry+https://github.com/rust-lang/crates.io-index"
1451 | checksum = "ac3b87c63620426dd9b991e5ce0329eff545bccbbb34f3be09ff6fb6ab51b7b6"
1452 | 
1453 | [[package]]
1454 | name = "winapi-util"
1455 | version = "0.1.9"
1456 | source = "registry+https://github.com/rust-lang/crates.io-index"
1457 | checksum = "cf221c93e13a30d793f7645a0e7762c55d169dbb0a49671918a2319d289b10bb"
1458 | dependencies = [
1459 |  "windows-sys 0.59.0",
1460 | ]
1461 | 
1462 | [[package]]
1463 | name = "winapi-x86_64-pc-windows-gnu"
1464 | version = "0.4.0"
1465 | source = "registry+https://github.com/rust-lang/crates.io-index"
1466 | checksum = "712e227841d057c1ee1cd2fb22fa7e5a5461ae8e48fa2ca79ec42cfc1931183f"
1467 | 
1468 | [[package]]
1469 | name = "windows"
1470 | version = "0.54.0"
1471 | source = "registry+https://github.com/rust-lang/crates.io-index"
1472 | checksum = "9252e5725dbed82865af151df558e754e4a3c2c30818359eb17465f1346a1b49"
1473 | dependencies = [
1474 |  "windows-core",
1475 |  "windows-targets 0.52.6",
1476 | ]
1477 | 
1478 | [[package]]
1479 | name = "windows-core"
1480 | version = "0.54.0"
1481 | source = "registry+https://github.com/rust-lang/crates.io-index"
1482 | checksum = "12661b9c89351d684a50a8a643ce5f608e20243b9fb84687800163429f161d65"
1483 | dependencies = [
1484 |  "windows-result",
1485 |  "windows-targets 0.52.6",
1486 | ]
1487 | 
1488 | [[package]]
1489 | name = "windows-result"
1490 | version = "0.1.2"
1491 | source = "registry+https://github.com/rust-lang/crates.io-index"
1492 | checksum = "5e383302e8ec8515204254685643de10811af0ed97ea37210dc26fb0032647f8"
1493 | dependencies = [
1494 |  "windows-targets 0.52.6",
1495 | ]
1496 | 
1497 | [[package]]
1498 | name = "windows-sys"
1499 | version = "0.45.0"
1500 | source = "registry+https://github.com/rust-lang/crates.io-index"
1501 | checksum = "75283be5efb2831d37ea142365f009c02ec203cd29a3ebecbc093d52315b66d0"
1502 | dependencies = [
1503 |  "windows-targets 0.42.2",
1504 | ]
1505 | 
1506 | [[package]]
1507 | name = "windows-sys"
1508 | version = "0.52.0"
1509 | source = "registry+https://github.com/rust-lang/crates.io-index"
1510 | checksum = "282be5f36a8ce781fad8c8ae18fa3f9beff57ec1b52cb3de0789201425d9a33d"
1511 | dependencies = [
1512 |  "windows-targets 0.52.6",
1513 | ]
1514 | 
1515 | [[package]]
1516 | name = "windows-sys"
1517 | version = "0.59.0"
1518 | source = "registry+https://github.com/rust-lang/crates.io-index"
1519 | checksum = "1e38bc4d79ed67fd075bcc251a1c39b32a1776bbe92e5bef1f0bf1f8c531853b"
1520 | dependencies = [
1521 |  "windows-targets 0.52.6",
1522 | ]
1523 | 
1524 | [[package]]
1525 | name = "windows-targets"
1526 | version = "0.42.2"
1527 | source = "registry+https://github.com/rust-lang/crates.io-index"
1528 | checksum = "8e5180c00cd44c9b1c88adb3693291f1cd93605ded80c250a75d472756b4d071"
1529 | dependencies = [
1530 |  "windows_aarch64_gnullvm 0.42.2",
1531 |  "windows_aarch64_msvc 0.42.2",
1532 |  "windows_i686_gnu 0.42.2",
1533 |  "windows_i686_msvc 0.42.2",
1534 |  "windows_x86_64_gnu 0.42.2",
1535 |  "windows_x86_64_gnullvm 0.42.2",
1536 |  "windows_x86_64_msvc 0.42.2",
1537 | ]
1538 | 
1539 | [[package]]
1540 | name = "windows-targets"
1541 | version = "0.52.6"
1542 | source = "registry+https://github.com/rust-lang/crates.io-index"
1543 | checksum = "9b724f72796e036ab90c1021d4780d4d3d648aca59e491e6b98e725b84e99973"
1544 | dependencies = [
1545 |  "windows_aarch64_gnullvm 0.52.6",
1546 |  "windows_aarch64_msvc 0.52.6",
1547 |  "windows_i686_gnu 0.52.6",
1548 |  "windows_i686_gnullvm",
1549 |  "windows_i686_msvc 0.52.6",
1550 |  "windows_x86_64_gnu 0.52.6",
1551 |  "windows_x86_64_gnullvm 0.52.6",
1552 |  "windows_x86_64_msvc 0.52.6",
1553 | ]
1554 | 
1555 | [[package]]
1556 | name = "windows_aarch64_gnullvm"
1557 | version = "0.42.2"
1558 | source = "registry+https://github.com/rust-lang/crates.io-index"
1559 | checksum = "597a5118570b68bc08d8d59125332c54f1ba9d9adeedeef5b99b02ba2b0698f8"
1560 | 
1561 | [[package]]
1562 | name = "windows_aarch64_gnullvm"
1563 | version = "0.52.6"
1564 | source = "registry+https://github.com/rust-lang/crates.io-index"
1565 | checksum = "32a4622180e7a0ec044bb555404c800bc9fd9ec262ec147edd5989ccd0c02cd3"
1566 | 
1567 | [[package]]
1568 | name = "windows_aarch64_msvc"
1569 | version = "0.42.2"
1570 | source = "registry+https://github.com/rust-lang/crates.io-index"
1571 | checksum = "e08e8864a60f06ef0d0ff4ba04124db8b0fb3be5776a5cd47641e942e58c4d43"
1572 | 
1573 | [[package]]
1574 | name = "windows_aarch64_msvc"
1575 | version = "0.52.6"
1576 | source = "registry+https://github.com/rust-lang/crates.io-index"
1577 | checksum = "09ec2a7bb152e2252b53fa7803150007879548bc709c039df7627cabbd05d469"
1578 | 
1579 | [[package]]
1580 | name = "windows_i686_gnu"
1581 | version = "0.42.2"
1582 | source = "registry+https://github.com/rust-lang/crates.io-index"
1583 | checksum = "c61d927d8da41da96a81f029489353e68739737d3beca43145c8afec9a31a84f"
1584 | 
1585 | [[package]]
1586 | name = "windows_i686_gnu"
1587 | version = "0.52.6"
1588 | source = "registry+https://github.com/rust-lang/crates.io-index"
1589 | checksum = "8e9b5ad5ab802e97eb8e295ac6720e509ee4c243f69d781394014ebfe8bbfa0b"
1590 | 
1591 | [[package]]
1592 | name = "windows_i686_gnullvm"
1593 | version = "0.52.6"
1594 | source = "registry+https://github.com/rust-lang/crates.io-index"
1595 | checksum = "0eee52d38c090b3caa76c563b86c3a4bd71ef1a819287c19d586d7334ae8ed66"
1596 | 
1597 | [[package]]
1598 | name = "windows_i686_msvc"
1599 | version = "0.42.2"
1600 | source = "registry+https://github.com/rust-lang/crates.io-index"
1601 | checksum = "44d840b6ec649f480a41c8d80f9c65108b92d89345dd94027bfe06ac444d1060"
1602 | 
1603 | [[package]]
1604 | name = "windows_i686_msvc"
1605 | version = "0.52.6"
1606 | source = "registry+https://github.com/rust-lang/crates.io-index"
1607 | checksum = "240948bc05c5e7c6dabba28bf89d89ffce3e303022809e73deaefe4f6ec56c66"
1608 | 
1609 | [[package]]
1610 | name = "windows_x86_64_gnu"
1611 | version = "0.42.2"
1612 | source = "registry+https://github.com/rust-lang/crates.io-index"
1613 | checksum = "8de912b8b8feb55c064867cf047dda097f92d51efad5b491dfb98f6bbb70cb36"
1614 | 
1615 | [[package]]
1616 | name = "windows_x86_64_gnu"
1617 | version = "0.52.6"
1618 | source = "registry+https://github.com/rust-lang/crates.io-index"
1619 | checksum = "147a5c80aabfbf0c7d901cb5895d1de30ef2907eb21fbbab29ca94c5b08b1a78"
1620 | 
1621 | [[package]]
1622 | name = "windows_x86_64_gnullvm"
1623 | version = "0.42.2"
1624 | source = "registry+https://github.com/rust-lang/crates.io-index"
1625 | checksum = "26d41b46a36d453748aedef1486d5c7a85db22e56aff34643984ea85514e94a3"
1626 | 
1627 | [[package]]
1628 | name = "windows_x86_64_gnullvm"
1629 | version = "0.52.6"
1630 | source = "registry+https://github.com/rust-lang/crates.io-index"
1631 | checksum = "24d5b23dc417412679681396f2b49f3de8c1473deb516bd34410872eff51ed0d"
1632 | 
1633 | [[package]]
1634 | name = "windows_x86_64_msvc"
1635 | version = "0.42.2"
1636 | source = "registry+https://github.com/rust-lang/crates.io-index"
1637 | checksum = "9aec5da331524158c6d1a4ac0ab1541149c0b9505fde06423b02f5ef0106b9f0"
1638 | 
1639 | [[package]]
1640 | name = "windows_x86_64_msvc"
1641 | version = "0.52.6"
1642 | source = "registry+https://github.com/rust-lang/crates.io-index"
1643 | checksum = "589f6da84c646204747d1270a2a5661ea66ed1cced2631d546fdfb155959f9ec"
1644 | 
1645 | [[package]]
1646 | name = "winnow"
1647 | version = "0.7.4"
1648 | source = "registry+https://github.com/rust-lang/crates.io-index"
1649 | checksum = "0e97b544156e9bebe1a0ffbc03484fc1ffe3100cbce3ffb17eac35f7cdd7ab36"
1650 | dependencies = [
1651 |  "memchr",
1652 | ]
1653 | 
1654 | [[package]]
1655 | name = "wit-bindgen-rt"
1656 | version = "0.33.0"
1657 | source = "registry+https://github.com/rust-lang/crates.io-index"
1658 | checksum = "3268f3d866458b787f390cf61f4bbb563b922d091359f9608842999eaee3943c"
1659 | dependencies = [
1660 |  "bitflags 2.9.0",
1661 | ]
1662 | 
1663 | [[package]]
1664 | name = "zerocopy"
1665 | version = "0.8.23"
1666 | source = "registry+https://github.com/rust-lang/crates.io-index"
1667 | checksum = "fd97444d05a4328b90e75e503a34bad781f14e28a823ad3557f0750df1ebcbc6"
1668 | dependencies = [
1669 |  "zerocopy-derive",
1670 | ]
1671 | 
1672 | [[package]]
1673 | name = "zerocopy-derive"
1674 | version = "0.8.23"
1675 | source = "registry+https://github.com/rust-lang/crates.io-index"
1676 | checksum = "6352c01d0edd5db859a63e2605f4ea3183ddbd15e2c4a9e7d32184df75e4f154"
1677 | dependencies = [
1678 |  "proc-macro2",
1679 |  "quote",
1680 |  "syn",
1681 | ]
1682 | 


--------------------------------------------------------------------------------
/Cargo.toml:
--------------------------------------------------------------------------------
 1 | [package]
 2 | name = "ksound"
 3 | version = "0.1.0"
 4 | edition = "2021"
 5 | 
 6 | [dependencies]
 7 | anyhow = "1.0.97"
 8 | clap = { version = "4.5.32", features = ["derive"] }
 9 | crossterm = "0.28.1"
10 | dirs = "6.0.0"
11 | id3 = "1.16.2"
12 | rand = "0.9.0"
13 | rodio = "0.20.1"
14 | serde = { version = "1.0.219", features = ["derive"] }
15 | symphonia = { version = "0.5.4", features = ["mp3"] }
16 | thiserror = "2.0.12"
17 | toml = "0.8.20"
18 | walkdir = "2.5.0"
19 | 


--------------------------------------------------------------------------------
/LICENSE:
--------------------------------------------------------------------------------
  1 |                     GNU AFFERO GENERAL PUBLIC LICENSE
  2 |                        Version 3, 19 November 2007
  3 | 
  4 |  Copyright (C) 2007 Free Software Foundation, Inc. <https://fsf.org/>
  5 |  Everyone is permitted to copy and distribute verbatim copies
  6 |  of this license document, but changing it is not allowed.
  7 | 
  8 |                             Preamble
  9 | 
 10 |   The GNU Affero General Public License is a free, copyleft license for
 11 | software and other kinds of works, specifically designed to ensure
 12 | cooperation with the community in the case of network server software.
 13 | 
 14 |   The licenses for most software and other practical works are designed
 15 | to take away your freedom to share and change the works.  By contrast,
 16 | our General Public Licenses are intended to guarantee your freedom to
 17 | share and change all versions of a program--to make sure it remains free
 18 | software for all its users.
 19 | 
 20 |   When we speak of free software, we are referring to freedom, not
 21 | price.  Our General Public Licenses are designed to make sure that you
 22 | have the freedom to distribute copies of free software (and charge for
 23 | them if you wish), that you receive source code or can get it if you
 24 | want it, that you can change the software or use pieces of it in new
 25 | free programs, and that you know you can do these things.
 26 | 
 27 |   Developers that use our General Public Licenses protect your rights
 28 | with two steps: (1) assert copyright on the software, and (2) offer
 29 | you this License which gives you legal permission to copy, distribute
 30 | and/or modify the software.
 31 | 
 32 |   A secondary benefit of defending all users' freedom is that
 33 | improvements made in alternate versions of the program, if they
 34 | receive widespread use, become available for other developers to
 35 | incorporate.  Many developers of free software are heartened and
 36 | encouraged by the resulting cooperation.  However, in the case of
 37 | software used on network servers, this result may fail to come about.
 38 | The GNU General Public License permits making a modified version and
 39 | letting the public access it on a server without ever releasing its
 40 | source code to the public.
 41 | 
 42 |   The GNU Affero General Public License is designed specifically to
 43 | ensure that, in such cases, the modified source code becomes available
 44 | to the community.  It requires the operator of a network server to
 45 | provide the source code of the modified version running there to the
 46 | users of that server.  Therefore, public use of a modified version, on
 47 | a publicly accessible server, gives the public access to the source
 48 | code of the modified version.
 49 | 
 50 |   An older license, called the Affero General Public License and
 51 | published by Affero, was designed to accomplish similar goals.  This is
 52 | a different license, not a version of the Affero GPL, but Affero has
 53 | released a new version of the Affero GPL which permits relicensing under
 54 | this license.
 55 | 
 56 |   The precise terms and conditions for copying, distribution and
 57 | modification follow.
 58 | 
 59 |                        TERMS AND CONDITIONS
 60 | 
 61 |   0. Definitions.
 62 | 
 63 |   "This License" refers to version 3 of the GNU Affero General Public License.
 64 | 
 65 |   "Copyright" also means copyright-like laws that apply to other kinds of
 66 | works, such as semiconductor masks.
 67 | 
 68 |   "The Program" refers to any copyrightable work licensed under this
 69 | License.  Each licensee is addressed as "you".  "Licensees" and
 70 | "recipients" may be individuals or organizations.
 71 | 
 72 |   To "modify" a work means to copy from or adapt all or part of the work
 73 | in a fashion requiring copyright permission, other than the making of an
 74 | exact copy.  The resulting work is called a "modified version" of the
 75 | earlier work or a work "based on" the earlier work.
 76 | 
 77 |   A "covered work" means either the unmodified Program or a work based
 78 | on the Program.
 79 | 
 80 |   To "propagate" a work means to do anything with it that, without
 81 | permission, would make you directly or secondarily liable for
 82 | infringement under applicable copyright law, except executing it on a
 83 | computer or modifying a private copy.  Propagation includes copying,
 84 | distribution (with or without modification), making available to the
 85 | public, and in some countries other activities as well.
 86 | 
 87 |   To "convey" a work means any kind of propagation that enables other
 88 | parties to make or receive copies.  Mere interaction with a user through
 89 | a computer network, with no transfer of a copy, is not conveying.
 90 | 
 91 |   An interactive user interface displays "Appropriate Legal Notices"
 92 | to the extent that it includes a convenient and prominently visible
 93 | feature that (1) displays an appropriate copyright notice, and (2)
 94 | tells the user that there is no warranty for the work (except to the
 95 | extent that warranties are provided), that licensees may convey the
 96 | work under this License, and how to view a copy of this License.  If
 97 | the interface presents a list of user commands or options, such as a
 98 | menu, a prominent item in the list meets this criterion.
 99 | 
100 |   1. Source Code.
101 | 
102 |   The "source code" for a work means the preferred form of the work
103 | for making modifications to it.  "Object code" means any non-source
104 | form of a work.
105 | 
106 |   A "Standard Interface" means an interface that either is an official
107 | standard defined by a recognized standards body, or, in the case of
108 | interfaces specified for a particular programming language, one that
109 | is widely used among developers working in that language.
110 | 
111 |   The "System Libraries" of an executable work include anything, other
112 | than the work as a whole, that (a) is included in the normal form of
113 | packaging a Major Component, but which is not part of that Major
114 | Component, and (b) serves only to enable use of the work with that
115 | Major Component, or to implement a Standard Interface for which an
116 | implementation is available to the public in source code form.  A
117 | "Major Component", in this context, means a major essential component
118 | (kernel, window system, and so on) of the specific operating system
119 | (if any) on which the executable work runs, or a compiler used to
120 | produce the work, or an object code interpreter used to run it.
121 | 
122 |   The "Corresponding Source" for a work in object code form means all
123 | the source code needed to generate, install, and (for an executable
124 | work) run the object code and to modify the work, including scripts to
125 | control those activities.  However, it does not include the work's
126 | System Libraries, or general-purpose tools or generally available free
127 | programs which are used unmodified in performing those activities but
128 | which are not part of the work.  For example, Corresponding Source
129 | includes interface definition files associated with source files for
130 | the work, and the source code for shared libraries and dynamically
131 | linked subprograms that the work is specifically designed to require,
132 | such as by intimate data communication or control flow between those
133 | subprograms and other parts of the work.
134 | 
135 |   The Corresponding Source need not include anything that users
136 | can regenerate automatically from other parts of the Corresponding
137 | Source.
138 | 
139 |   The Corresponding Source for a work in source code form is that
140 | same work.
141 | 
142 |   2. Basic Permissions.
143 | 
144 |   All rights granted under this License are granted for the term of
145 | copyright on the Program, and are irrevocable provided the stated
146 | conditions are met.  This License explicitly affirms your unlimited
147 | permission to run the unmodified Program.  The output from running a
148 | covered work is covered by this License only if the output, given its
149 | content, constitutes a covered work.  This License acknowledges your
150 | rights of fair use or other equivalent, as provided by copyright law.
151 | 
152 |   You may make, run and propagate covered works that you do not
153 | convey, without conditions so long as your license otherwise remains
154 | in force.  You may convey covered works to others for the sole purpose
155 | of having them make modifications exclusively for you, or provide you
156 | with facilities for running those works, provided that you comply with
157 | the terms of this License in conveying all material for which you do
158 | not control copyright.  Those thus making or running the covered works
159 | for you must do so exclusively on your behalf, under your direction
160 | and control, on terms that prohibit them from making any copies of
161 | your copyrighted material outside their relationship with you.
162 | 
163 |   Conveying under any other circumstances is permitted solely under
164 | the conditions stated below.  Sublicensing is not allowed; section 10
165 | makes it unnecessary.
166 | 
167 |   3. Protecting Users' Legal Rights From Anti-Circumvention Law.
168 | 
169 |   No covered work shall be deemed part of an effective technological
170 | measure under any applicable law fulfilling obligations under article
171 | 11 of the WIPO copyright treaty adopted on 20 December 1996, or
172 | similar laws prohibiting or restricting circumvention of such
173 | measures.
174 | 
175 |   When you convey a covered work, you waive any legal power to forbid
176 | circumvention of technological measures to the extent such circumvention
177 | is effected by exercising rights under this License with respect to
178 | the covered work, and you disclaim any intention to limit operation or
179 | modification of the work as a means of enforcing, against the work's
180 | users, your or third parties' legal rights to forbid circumvention of
181 | technological measures.
182 | 
183 |   4. Conveying Verbatim Copies.
184 | 
185 |   You may convey verbatim copies of the Program's source code as you
186 | receive it, in any medium, provided that you conspicuously and
187 | appropriately publish on each copy an appropriate copyright notice;
188 | keep intact all notices stating that this License and any
189 | non-permissive terms added in accord with section 7 apply to the code;
190 | keep intact all notices of the absence of any warranty; and give all
191 | recipients a copy of this License along with the Program.
192 | 
193 |   You may charge any price or no price for each copy that you convey,
194 | and you may offer support or warranty protection for a fee.
195 | 
196 |   5. Conveying Modified Source Versions.
197 | 
198 |   You may convey a work based on the Program, or the modifications to
199 | produce it from the Program, in the form of source code under the
200 | terms of section 4, provided that you also meet all of these conditions:
201 | 
202 |     a) The work must carry prominent notices stating that you modified
203 |     it, and giving a relevant date.
204 | 
205 |     b) The work must carry prominent notices stating that it is
206 |     released under this License and any conditions added under section
207 |     7.  This requirement modifies the requirement in section 4 to
208 |     "keep intact all notices".
209 | 
210 |     c) You must license the entire work, as a whole, under this
211 |     License to anyone who comes into possession of a copy.  This
212 |     License will therefore apply, along with any applicable section 7
213 |     additional terms, to the whole of the work, and all its parts,
214 |     regardless of how they are packaged.  This License gives no
215 |     permission to license the work in any other way, but it does not
216 |     invalidate such permission if you have separately received it.
217 | 
218 |     d) If the work has interactive user interfaces, each must display
219 |     Appropriate Legal Notices; however, if the Program has interactive
220 |     interfaces that do not display Appropriate Legal Notices, your
221 |     work need not make them do so.
222 | 
223 |   A compilation of a covered work with other separate and independent
224 | works, which are not by their nature extensions of the covered work,
225 | and which are not combined with it such as to form a larger program,
226 | in or on a volume of a storage or distribution medium, is called an
227 | "aggregate" if the compilation and its resulting copyright are not
228 | used to limit the access or legal rights of the compilation's users
229 | beyond what the individual works permit.  Inclusion of a covered work
230 | in an aggregate does not cause this License to apply to the other
231 | parts of the aggregate.
232 | 
233 |   6. Conveying Non-Source Forms.
234 | 
235 |   You may convey a covered work in object code form under the terms
236 | of sections 4 and 5, provided that you also convey the
237 | machine-readable Corresponding Source under the terms of this License,
238 | in one of these ways:
239 | 
240 |     a) Convey the object code in, or embodied in, a physical product
241 |     (including a physical distribution medium), accompanied by the
242 |     Corresponding Source fixed on a durable physical medium
243 |     customarily used for software interchange.
244 | 
245 |     b) Convey the object code in, or embodied in, a physical product
246 |     (including a physical distribution medium), accompanied by a
247 |     written offer, valid for at least three years and valid for as
248 |     long as you offer spare parts or customer support for that product
249 |     model, to give anyone who possesses the object code either (1) a
250 |     copy of the Corresponding Source for all the software in the
251 |     product that is covered by this License, on a durable physical
252 |     medium customarily used for software interchange, for a price no
253 |     more than your reasonable cost of physically performing this
254 |     conveying of source, or (2) access to copy the
255 |     Corresponding Source from a network server at no charge.
256 | 
257 |     c) Convey individual copies of the object code with a copy of the
258 |     written offer to provide the Corresponding Source.  This
259 |     alternative is allowed only occasionally and noncommercially, and
260 |     only if you received the object code with such an offer, in accord
261 |     with subsection 6b.
262 | 
263 |     d) Convey the object code by offering access from a designated
264 |     place (gratis or for a charge), and offer equivalent access to the
265 |     Corresponding Source in the same way through the same place at no
266 |     further charge.  You need not require recipients to copy the
267 |     Corresponding Source along with the object code.  If the place to
268 |     copy the object code is a network server, the Corresponding Source
269 |     may be on a different server (operated by you or a third party)
270 |     that supports equivalent copying facilities, provided you maintain
271 |     clear directions next to the object code saying where to find the
272 |     Corresponding Source.  Regardless of what server hosts the
273 |     Corresponding Source, you remain obligated to ensure that it is
274 |     available for as long as needed to satisfy these requirements.
275 | 
276 |     e) Convey the object code using peer-to-peer transmission, provided
277 |     you inform other peers where the object code and Corresponding
278 |     Source of the work are being offered to the general public at no
279 |     charge under subsection 6d.
280 | 
281 |   A separable portion of the object code, whose source code is excluded
282 | from the Corresponding Source as a System Library, need not be
283 | included in conveying the object code work.
284 | 
285 |   A "User Product" is either (1) a "consumer product", which means any
286 | tangible personal property which is normally used for personal, family,
287 | or household purposes, or (2) anything designed or sold for incorporation
288 | into a dwelling.  In determining whether a product is a consumer product,
289 | doubtful cases shall be resolved in favor of coverage.  For a particular
290 | product received by a particular user, "normally used" refers to a
291 | typical or common use of that class of product, regardless of the status
292 | of the particular user or of the way in which the particular user
293 | actually uses, or expects or is expected to use, the product.  A product
294 | is a consumer product regardless of whether the product has substantial
295 | commercial, industrial or non-consumer uses, unless such uses represent
296 | the only significant mode of use of the product.
297 | 
298 |   "Installation Information" for a User Product means any methods,
299 | procedures, authorization keys, or other information required to install
300 | and execute modified versions of a covered work in that User Product from
301 | a modified version of its Corresponding Source.  The information must
302 | suffice to ensure that the continued functioning of the modified object
303 | code is in no case prevented or interfered with solely because
304 | modification has been made.
305 | 
306 |   If you convey an object code work under this section in, or with, or
307 | specifically for use in, a User Product, and the conveying occurs as
308 | part of a transaction in which the right of possession and use of the
309 | User Product is transferred to the recipient in perpetuity or for a
310 | fixed term (regardless of how the transaction is characterized), the
311 | Corresponding Source conveyed under this section must be accompanied
312 | by the Installation Information.  But this requirement does not apply
313 | if neither you nor any third party retains the ability to install
314 | modified object code on the User Product (for example, the work has
315 | been installed in ROM).
316 | 
317 |   The requirement to provide Installation Information does not include a
318 | requirement to continue to provide support service, warranty, or updates
319 | for a work that has been modified or installed by the recipient, or for
320 | the User Product in which it has been modified or installed.  Access to a
321 | network may be denied when the modification itself materially and
322 | adversely affects the operation of the network or violates the rules and
323 | protocols for communication across the network.
324 | 
325 |   Corresponding Source conveyed, and Installation Information provided,
326 | in accord with this section must be in a format that is publicly
327 | documented (and with an implementation available to the public in
328 | source code form), and must require no special password or key for
329 | unpacking, reading or copying.
330 | 
331 |   7. Additional Terms.
332 | 
333 |   "Additional permissions" are terms that supplement the terms of this
334 | License by making exceptions from one or more of its conditions.
335 | Additional permissions that are applicable to the entire Program shall
336 | be treated as though they were included in this License, to the extent
337 | that they are valid under applicable law.  If additional permissions
338 | apply only to part of the Program, that part may be used separately
339 | under those permissions, but the entire Program remains governed by
340 | this License without regard to the additional permissions.
341 | 
342 |   When you convey a copy of a covered work, you may at your option
343 | remove any additional permissions from that copy, or from any part of
344 | it.  (Additional permissions may be written to require their own
345 | removal in certain cases when you modify the work.)  You may place
346 | additional permissions on material, added by you to a covered work,
347 | for which you have or can give appropriate copyright permission.
348 | 
349 |   Notwithstanding any other provision of this License, for material you
350 | add to a covered work, you may (if authorized by the copyright holders of
351 | that material) supplement the terms of this License with terms:
352 | 
353 |     a) Disclaiming warranty or limiting liability differently from the
354 |     terms of sections 15 and 16 of this License; or
355 | 
356 |     b) Requiring preservation of specified reasonable legal notices or
357 |     author attributions in that material or in the Appropriate Legal
358 |     Notices displayed by works containing it; or
359 | 
360 |     c) Prohibiting misrepresentation of the origin of that material, or
361 |     requiring that modified versions of such material be marked in
362 |     reasonable ways as different from the original version; or
363 | 
364 |     d) Limiting the use for publicity purposes of names of licensors or
365 |     authors of the material; or
366 | 
367 |     e) Declining to grant rights under trademark law for use of some
368 |     trade names, trademarks, or service marks; or
369 | 
370 |     f) Requiring indemnification of licensors and authors of that
371 |     material by anyone who conveys the material (or modified versions of
372 |     it) with contractual assumptions of liability to the recipient, for
373 |     any liability that these contractual assumptions directly impose on
374 |     those licensors and authors.
375 | 
376 |   All other non-permissive additional terms are considered "further
377 | restrictions" within the meaning of section 10.  If the Program as you
378 | received it, or any part of it, contains a notice stating that it is
379 | governed by this License along with a term that is a further
380 | restriction, you may remove that term.  If a license document contains
381 | a further restriction but permits relicensing or conveying under this
382 | License, you may add to a covered work material governed by the terms
383 | of that license document, provided that the further restriction does
384 | not survive such relicensing or conveying.
385 | 
386 |   If you add terms to a covered work in accord with this section, you
387 | must place, in the relevant source files, a statement of the
388 | additional terms that apply to those files, or a notice indicating
389 | where to find the applicable terms.
390 | 
391 |   Additional terms, permissive or non-permissive, may be stated in the
392 | form of a separately written license, or stated as exceptions;
393 | the above requirements apply either way.
394 | 
395 |   8. Termination.
396 | 
397 |   You may not propagate or modify a covered work except as expressly
398 | provided under this License.  Any attempt otherwise to propagate or
399 | modify it is void, and will automatically terminate your rights under
400 | this License (including any patent licenses granted under the third
401 | paragraph of section 11).
402 | 
403 |   However, if you cease all violation of this License, then your
404 | license from a particular copyright holder is reinstated (a)
405 | provisionally, unless and until the copyright holder explicitly and
406 | finally terminates your license, and (b) permanently, if the copyright
407 | holder fails to notify you of the violation by some reasonable means
408 | prior to 60 days after the cessation.
409 | 
410 |   Moreover, your license from a particular copyright holder is
411 | reinstated permanently if the copyright holder notifies you of the
412 | violation by some reasonable means, this is the first time you have
413 | received notice of violation of this License (for any work) from that
414 | copyright holder, and you cure the violation prior to 30 days after
415 | your receipt of the notice.
416 | 
417 |   Termination of your rights under this section does not terminate the
418 | licenses of parties who have received copies or rights from you under
419 | this License.  If your rights have been terminated and not permanently
420 | reinstated, you do not qualify to receive new licenses for the same
421 | material under section 10.
422 | 
423 |   9. Acceptance Not Required for Having Copies.
424 | 
425 |   You are not required to accept this License in order to receive or
426 | run a copy of the Program.  Ancillary propagation of a covered work
427 | occurring solely as a consequence of using peer-to-peer transmission
428 | to receive a copy likewise does not require acceptance.  However,
429 | nothing other than this License grants you permission to propagate or
430 | modify any covered work.  These actions infringe copyright if you do
431 | not accept this License.  Therefore, by modifying or propagating a
432 | covered work, you indicate your acceptance of this License to do so.
433 | 
434 |   10. Automatic Licensing of Downstream Recipients.
435 | 
436 |   Each time you convey a covered work, the recipient automatically
437 | receives a license from the original licensors, to run, modify and
438 | propagate that work, subject to this License.  You are not responsible
439 | for enforcing compliance by third parties with this License.
440 | 
441 |   An "entity transaction" is a transaction transferring control of an
442 | organization, or substantially all assets of one, or subdividing an
443 | organization, or merging organizations.  If propagation of a covered
444 | work results from an entity transaction, each party to that
445 | transaction who receives a copy of the work also receives whatever
446 | licenses to the work the party's predecessor in interest had or could
447 | give under the previous paragraph, plus a right to possession of the
448 | Corresponding Source of the work from the predecessor in interest, if
449 | the predecessor has it or can get it with reasonable efforts.
450 | 
451 |   You may not impose any further restrictions on the exercise of the
452 | rights granted or affirmed under this License.  For example, you may
453 | not impose a license fee, royalty, or other charge for exercise of
454 | rights granted under this License, and you may not initiate litigation
455 | (including a cross-claim or counterclaim in a lawsuit) alleging that
456 | any patent claim is infringed by making, using, selling, offering for
457 | sale, or importing the Program or any portion of it.
458 | 
459 |   11. Patents.
460 | 
461 |   A "contributor" is a copyright holder who authorizes use under this
462 | License of the Program or a work on which the Program is based.  The
463 | work thus licensed is called the contributor's "contributor version".
464 | 
465 |   A contributor's "essential patent claims" are all patent claims
466 | owned or controlled by the contributor, whether already acquired or
467 | hereafter acquired, that would be infringed by some manner, permitted
468 | by this License, of making, using, or selling its contributor version,
469 | but do not include claims that would be infringed only as a
470 | consequence of further modification of the contributor version.  For
471 | purposes of this definition, "control" includes the right to grant
472 | patent sublicenses in a manner consistent with the requirements of
473 | this License.
474 | 
475 |   Each contributor grants you a non-exclusive, worldwide, royalty-free
476 | patent license under the contributor's essential patent claims, to
477 | make, use, sell, offer for sale, import and otherwise run, modify and
478 | propagate the contents of its contributor version.
479 | 
480 |   In the following three paragraphs, a "patent license" is any express
481 | agreement or commitment, however denominated, not to enforce a patent
482 | (such as an express permission to practice a patent or covenant not to
483 | sue for patent infringement).  To "grant" such a patent license to a
484 | party means to make such an agreement or commitment not to enforce a
485 | patent against the party.
486 | 
487 |   If you convey a covered work, knowingly relying on a patent license,
488 | and the Corresponding Source of the work is not available for anyone
489 | to copy, free of charge and under the terms of this License, through a
490 | publicly available network server or other readily accessible means,
491 | then you must either (1) cause the Corresponding Source to be so
492 | available, or (2) arrange to deprive yourself of the benefit of the
493 | patent license for this particular work, or (3) arrange, in a manner
494 | consistent with the requirements of this License, to extend the patent
495 | license to downstream recipients.  "Knowingly relying" means you have
496 | actual knowledge that, but for the patent license, your conveying the
497 | covered work in a country, or your recipient's use of the covered work
498 | in a country, would infringe one or more identifiable patents in that
499 | country that you have reason to believe are valid.
500 | 
501 |   If, pursuant to or in connection with a single transaction or
502 | arrangement, you convey, or propagate by procuring conveyance of, a
503 | covered work, and grant a patent license to some of the parties
504 | receiving the covered work authorizing them to use, propagate, modify
505 | or convey a specific copy of the covered work, then the patent license
506 | you grant is automatically extended to all recipients of the covered
507 | work and works based on it.
508 | 
509 |   A patent license is "discriminatory" if it does not include within
510 | the scope of its coverage, prohibits the exercise of, or is
511 | conditioned on the non-exercise of one or more of the rights that are
512 | specifically granted under this License.  You may not convey a covered
513 | work if you are a party to an arrangement with a third party that is
514 | in the business of distributing software, under which you make payment
515 | to the third party based on the extent of your activity of conveying
516 | the work, and under which the third party grants, to any of the
517 | parties who would receive the covered work from you, a discriminatory
518 | patent license (a) in connection with copies of the covered work
519 | conveyed by you (or copies made from those copies), or (b) primarily
520 | for and in connection with specific products or compilations that
521 | contain the covered work, unless you entered into that arrangement,
522 | or that patent license was granted, prior to 28 March 2007.
523 | 
524 |   Nothing in this License shall be construed as excluding or limiting
525 | any implied license or other defenses to infringement that may
526 | otherwise be available to you under applicable patent law.
527 | 
528 |   12. No Surrender of Others' Freedom.
529 | 
530 |   If conditions are imposed on you (whether by court order, agreement or
531 | otherwise) that contradict the conditions of this License, they do not
532 | excuse you from the conditions of this License.  If you cannot convey a
533 | covered work so as to satisfy simultaneously your obligations under this
534 | License and any other pertinent obligations, then as a consequence you may
535 | not convey it at all.  For example, if you agree to terms that obligate you
536 | to collect a royalty for further conveying from those to whom you convey
537 | the Program, the only way you could satisfy both those terms and this
538 | License would be to refrain entirely from conveying the Program.
539 | 
540 |   13. Remote Network Interaction; Use with the GNU General Public License.
541 | 
542 |   Notwithstanding any other provision of this License, if you modify the
543 | Program, your modified version must prominently offer all users
544 | interacting with it remotely through a computer network (if your version
545 | supports such interaction) an opportunity to receive the Corresponding
546 | Source of your version by providing access to the Corresponding Source
547 | from a network server at no charge, through some standard or customary
548 | means of facilitating copying of software.  This Corresponding Source
549 | shall include the Corresponding Source for any work covered by version 3
550 | of the GNU General Public License that is incorporated pursuant to the
551 | following paragraph.
552 | 
553 |   Notwithstanding any other provision of this License, you have
554 | permission to link or combine any covered work with a work licensed
555 | under version 3 of the GNU General Public License into a single
556 | combined work, and to convey the resulting work.  The terms of this
557 | License will continue to apply to the part which is the covered work,
558 | but the work with which it is combined will remain governed by version
559 | 3 of the GNU General Public License.
560 | 
561 |   14. Revised Versions of this License.
562 | 
563 |   The Free Software Foundation may publish revised and/or new versions of
564 | the GNU Affero General Public License from time to time.  Such new versions
565 | will be similar in spirit to the present version, but may differ in detail to
566 | address new problems or concerns.
567 | 
568 |   Each version is given a distinguishing version number.  If the
569 | Program specifies that a certain numbered version of the GNU Affero General
570 | Public License "or any later version" applies to it, you have the
571 | option of following the terms and conditions either of that numbered
572 | version or of any later version published by the Free Software
573 | Foundation.  If the Program does not specify a version number of the
574 | GNU Affero General Public License, you may choose any version ever published
575 | by the Free Software Foundation.
576 | 
577 |   If the Program specifies that a proxy can decide which future
578 | versions of the GNU Affero General Public License can be used, that proxy's
579 | public statement of acceptance of a version permanently authorizes you
580 | to choose that version for the Program.
581 | 
582 |   Later license versions may give you additional or different
583 | permissions.  However, no additional obligations are imposed on any
584 | author or copyright holder as a result of your choosing to follow a
585 | later version.
586 | 
587 |   15. Disclaimer of Warranty.
588 | 
589 |   THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY
590 | APPLICABLE LAW.  EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT
591 | HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY
592 | OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO,
593 | THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
594 | PURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM
595 | IS WITH YOU.  SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF
596 | ALL NECESSARY SERVICING, REPAIR OR CORRECTION.
597 | 
598 |   16. Limitation of Liability.
599 | 
600 |   IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
601 | WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS
602 | THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY
603 | GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE
604 | USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF
605 | DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD
606 | PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS),
607 | EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF
608 | SUCH DAMAGES.
609 | 
610 |   17. Interpretation of Sections 15 and 16.
611 | 
612 |   If the disclaimer of warranty and limitation of liability provided
613 | above cannot be given local legal effect according to their terms,
614 | reviewing courts shall apply local law that most closely approximates
615 | an absolute waiver of all civil liability in connection with the
616 | Program, unless a warranty or assumption of liability accompanies a
617 | copy of the Program in return for a fee.
618 | 
619 |                      END OF TERMS AND CONDITIONS
620 | 
621 |             How to Apply These Terms to Your New Programs
622 | 
623 |   If you develop a new program, and you want it to be of the greatest
624 | possible use to the public, the best way to achieve this is to make it
625 | free software which everyone can redistribute and change under these terms.
626 | 
627 |   To do so, attach the following notices to the program.  It is safest
628 | to attach them to the start of each source file to most effectively
629 | state the exclusion of warranty; and each file should have at least
630 | the "copyright" line and a pointer to where the full notice is found.
631 | 
632 |     <one line to give the program's name and a brief idea of what it does.>
633 |     Copyright (C) <year>  <name of author>
634 | 
635 |     This program is free software: you can redistribute it and/or modify
636 |     it under the terms of the GNU Affero General Public License as published
637 |     by the Free Software Foundation, either version 3 of the License, or
638 |     (at your option) any later version.
639 | 
640 |     This program is distributed in the hope that it will be useful,
641 |     but WITHOUT ANY WARRANTY; without even the implied warranty of
642 |     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
643 |     GNU Affero General Public License for more details.
644 | 
645 |     You should have received a copy of the GNU Affero General Public License
646 |     along with this program.  If not, see <https://www.gnu.org/licenses/>.
647 | 
648 | Also add information on how to contact you by electronic and paper mail.
649 | 
650 |   If your software can interact with users remotely through a computer
651 | network, you should also make sure that it provides a way for users to
652 | get its source.  For example, if your program is a web application, its
653 | interface could display a "Source" link that leads users to an archive
654 | of the code.  There are many ways you could offer source, and different
655 | solutions will be better for different programs; see section 13 for the
656 | specific requirements.
657 | 
658 |   You should also get your employer (if you work as a programmer) or school,
659 | if any, to sign a "copyright disclaimer" for the program, if necessary.
660 | For more information on this, and how to apply and follow the GNU AGPL, see
661 | <https://www.gnu.org/licenses/>.
662 | 


--------------------------------------------------------------------------------
/README.md:
--------------------------------------------------------------------------------
 1 | # KSound
 2 | 
 3 | > A minimalist command-line MP3 player written in Rust. Navigate through your music within your terminal using your keyboard!
 4 | 
 5 | **WORK IN PROGRESS**
 6 | 
 7 | ## About
 8 | 
 9 | KSound is a lightweight terminal-based MP3 player that lets you enjoy your music without leaving the comfort of your command line. Built with Rust for performance and reliability, KSound offers a distraction-free listening experience with simple keyboard controls to manage your music collection.
10 | 
11 | ## Features
12 | 
13 | - Play MP3 files directly from your terminal
14 | - Navigate through your music library with keyboard shortcuts
15 | - Mark tracks as favorites for quick access later
16 | - Flag tracks to skip in future listening sessions
17 | - Delete unwanted files directly while listening
18 | - Minimal interface that stays out of your way
19 | 
20 | ## Installation
21 | 
22 | ```bash
23 | # Coming soon
24 | cargo install ksound
25 | ```
26 | 
27 | ## Usage
28 | 
29 | ```bash
30 | # Play all mp3 files in the current directory
31 | ksound
32 | 
33 | # Play all mp3 files in a specific directory
34 | ksound /path/to/music
35 | 
36 | # Play a specific playlist
37 | ksound --playlist favorites.txt
38 | ```
39 | 
40 | ## Keyboard Controls
41 | 
42 | | Key       | Action                           |
43 | |-----------|----------------------------------|
44 | | Space     | Play/Pause                       |
45 | | →         | Next track                       |
46 | | ←         | Previous track                   |
47 | | f         | Mark current track as favorite   |
48 | | s         | Mark track to skip in the future |
49 | | d         | Delete current file              |
50 | | +/-       | Volume up/down                   |
51 | | q         | Quit                             |
52 | 
53 | ## Configuration
54 | 
55 | KSound will look for a configuration file at `~/.config/ksound/config.toml` where you can customize behavior and keyboard shortcuts.
56 | 
57 | ## Contributing
58 | 
59 | Contributions are welcome! Feel free to open issues or submit pull requests.
60 | 
61 | ## License
62 | 
63 | KSound is released under the GNU Affero General Public License. See the LICENSE file for more details.
64 | 


--------------------------------------------------------------------------------
/src/config/mod.rs:
--------------------------------------------------------------------------------
  1 | use std::collections::HashSet;
  2 | use std::fs::{self, File, OpenOptions};
  3 | use std::io::{self, BufRead, BufReader, Write};
  4 | use std::path::{Path, PathBuf};
  5 | 
  6 | pub struct SkipList {
  7 |     skip_file_path: PathBuf,
  8 |     cached_skipped_tracks: Option<HashSet<String>>,
  9 | }
 10 | 
 11 | impl SkipList {
 12 |     pub fn new() -> Result<Self, io::Error> {
 13 |         let home_dir = dirs::home_dir().ok_or_else(|| {
 14 |             io::Error::new(io::ErrorKind::NotFound, "Could not find home directory")
 15 |         })?;
 16 | 
 17 |         let config_dir = home_dir.join(".ksound");
 18 | 
 19 |         if !config_dir.exists() {
 20 |             fs::create_dir(&config_dir)?;
 21 |         }
 22 | 
 23 |         let skip_file_path = config_dir.join("skipped_tracks.txt");
 24 | 
 25 |         if !skip_file_path.exists() {
 26 |             File::create(&skip_file_path)?;
 27 |         }
 28 | 
 29 |         Ok(SkipList {
 30 |             skip_file_path,
 31 |             cached_skipped_tracks: None,
 32 |         })
 33 |     }
 34 | 
 35 |     fn load_skipped_tracks(&mut self) -> Result<(), io::Error> {
 36 |         if self.cached_skipped_tracks.is_some() {
 37 |             return Ok(());
 38 |         }
 39 | 
 40 |         let mut skipped_tracks = HashSet::new();
 41 | 
 42 |         let file = File::open(&self.skip_file_path)?;
 43 |         let reader = BufReader::new(file);
 44 | 
 45 |         for line in reader.lines() {
 46 |             if let Ok(line) = line {
 47 |                 if !line.trim().is_empty() {
 48 |                     skipped_tracks.insert(line);
 49 |                 }
 50 |             }
 51 |         }
 52 | 
 53 |         self.cached_skipped_tracks = Some(skipped_tracks);
 54 |         Ok(())
 55 |     }
 56 | 
 57 |     pub fn add(&mut self, track_path: &Path) -> Result<(), io::Error> {
 58 |         let absolute_path = if track_path.is_absolute() {
 59 |             track_path.to_path_buf()
 60 |         } else {
 61 |             std::env::current_dir()?.join(track_path)
 62 |         };
 63 | 
 64 |         let canonical_path = absolute_path.canonicalize()?;
 65 |         let track_path_str = canonical_path.to_string_lossy().to_string();
 66 |         let mut file = OpenOptions::new().append(true).open(&self.skip_file_path)?;
 67 | 
 68 |         writeln!(file, "{}", track_path_str)?;
 69 | 
 70 |         Ok(())
 71 |     }
 72 | 
 73 |     pub fn is_skipped(&mut self, track_path: &Path) -> Result<bool, io::Error> {
 74 |         self.load_skipped_tracks()?;
 75 | 
 76 |         let canonical_path_str = match self.to_canonical_path(track_path)? {
 77 |             Some(path) => path,
 78 |             None => return Ok(false),
 79 |         };
 80 | 
 81 |         if let Some(ref cached) = self.cached_skipped_tracks {
 82 |             Ok(cached.contains(&canonical_path_str))
 83 |         } else {
 84 |             Ok(false)
 85 |         }
 86 |     }
 87 | 
 88 |     fn to_canonical_path(&self, path: &Path) -> io::Result<Option<String>> {
 89 |         let absolute_path = if path.is_absolute() {
 90 |             path.to_path_buf()
 91 |         } else {
 92 |             std::env::current_dir()?.join(path)
 93 |         };
 94 | 
 95 |         match absolute_path.canonicalize() {
 96 |             Ok(canonical) => Ok(Some(canonical.to_string_lossy().to_string())),
 97 |             Err(_) => Ok(None), // Le fichier n'existe pas ou n'est pas accessible
 98 |         }
 99 |     }
100 | }
101 | 


--------------------------------------------------------------------------------
/src/main.rs:
--------------------------------------------------------------------------------
  1 | mod config;
  2 | mod player;
  3 | mod ui;
  4 | 
  5 | use anyhow::Result;
  6 | use clap::Parser;
  7 | use rand::seq::SliceRandom;
  8 | use std::fs;
  9 | use std::path::PathBuf;
 10 | use walkdir::WalkDir;
 11 | 
 12 | #[derive(Parser)]
 13 | #[command(author, version, about, long_about = None)]
 14 | struct Cli {
 15 |     /// Directory containing MP3 files or specific MP3 file to play
 16 |     #[arg(default_value = ".")]
 17 |     path: String,
 18 | 
 19 |     /// Playlist file to load
 20 |     #[arg(short, long)]
 21 |     playlist: Option<String>,
 22 | 
 23 |     /// Randomize playback order
 24 |     #[arg(short, long)]
 25 |     random: bool,
 26 | }
 27 | 
 28 | fn main() -> Result<()> {
 29 |     let cli = Cli::parse();
 30 | 
 31 |     println!("KSound - Starting up...");
 32 |     println!("Path: {}", cli.path);
 33 |     // Create the playlist
 34 |     let mut playlist = if let Some(playlist_file) = &cli.playlist {
 35 |         println!("Playlist: {}", playlist_file);
 36 |         load_playlist_from_file(playlist_file)?
 37 |     } else {
 38 |         create_playlist_from_path(&cli.path)?
 39 |     };
 40 |     if cli.random {
 41 |         println!("Randomizing playlist...");
 42 |         let mut rng = rand::rng();
 43 |         playlist.shuffle(&mut rng);
 44 |     }
 45 |     println!("Found {} MP3 files", playlist.len());
 46 | 
 47 |     let mut ui = ui::UI::new()?;
 48 | 
 49 |     if !playlist.is_empty() {
 50 |         let mut player = player::Player::new()?;
 51 |         player.set_playlist(playlist)?;
 52 |         player.play_next()?;
 53 | 
 54 |         println!("Playing playlist. Press Ctrl+C to exit");
 55 |         let mut last_track = None;
 56 |         let mut needs_redraw = true;
 57 |         loop {
 58 |             if needs_redraw {
 59 |                 ui.draw(player.get_current_track())?;
 60 |                 needs_redraw = false;
 61 |                 last_track = player.get_current_track().cloned();
 62 |             }
 63 | 
 64 |             if player.get_current_track() != last_track.as_ref() {
 65 |                 needs_redraw = true;
 66 |             }
 67 | 
 68 |             match ui.handle_input()? {
 69 |                 ui::UserAction::Quit => break,
 70 |                 ui::UserAction::PlayPause => {
 71 |                     if player.is_playing() {
 72 |                         player.pause();
 73 |                         ui.set_playing(false);
 74 |                     } else {
 75 |                         player.play();
 76 |                         ui.set_playing(true);
 77 |                     }
 78 |                     needs_redraw = true;
 79 |                 }
 80 |                 ui::UserAction::Next => {
 81 |                     player.play_next()?;
 82 |                     needs_redraw = true;
 83 |                 }
 84 |                 ui::UserAction::Previous => {
 85 |                     player.play_previous()?;
 86 |                     needs_redraw = true;
 87 |                 }
 88 |                 ui::UserAction::VolumeUp => {
 89 |                     player.increase_volume();
 90 |                     needs_redraw = true;
 91 |                 }
 92 |                 ui::UserAction::VolumeDown => {
 93 |                     player.decrease_volume();
 94 |                     needs_redraw = true;
 95 |                 }
 96 |                 ui::UserAction::MarkSkip => {
 97 |                     player.mark_skip()?;
 98 |                     needs_redraw = true;
 99 |                 }
100 |                 _ => {}
101 |             }
102 | 
103 |             let continue_playback = player.handle_playback()?;
104 |             if !continue_playback {
105 |                 break;
106 |             }
107 |         }
108 |     } else {
109 |         println!("No MP3 files found to play.");
110 |     }
111 | 
112 |     Ok(())
113 | }
114 | 
115 | fn load_playlist_from_file(path: &str) -> Result<Vec<PathBuf>> {
116 |     let content = fs::read_to_string(path)?;
117 |     Ok(content
118 |         .lines()
119 |         .filter(|line| !line.trim().is_empty())
120 |         .map(|line| PathBuf::from(line.trim()))
121 |         .collect())
122 | }
123 | 
124 | fn create_playlist_from_path(path: &str) -> Result<Vec<PathBuf>> {
125 |     let mut playlist = Vec::new();
126 | 
127 |     for entry in WalkDir::new(path).into_iter().filter_map(|e| e.ok()) {
128 |         let path = entry.path();
129 |         if path.is_file() {
130 |             if let Some(extension) = path.extension() {
131 |                 if extension.to_string_lossy().to_lowercase() == "mp3" {
132 |                     playlist.push(path.to_path_buf());
133 |                 }
134 |             }
135 |         }
136 |     }
137 | 
138 |     Ok(playlist)
139 | }
140 | 


--------------------------------------------------------------------------------
/src/player/mod.rs:
--------------------------------------------------------------------------------
  1 | use crate::config;
  2 | use anyhow::Result;
  3 | use rodio::{Decoder, OutputStream, Sink};
  4 | use std::fs::File;
  5 | use std::io::BufReader;
  6 | use std::path::{Path, PathBuf};
  7 | 
  8 | pub struct Player {
  9 |     sink: Option<Sink>,
 10 |     _stream: Option<OutputStream>,
 11 |     _stream_handle: Option<rodio::OutputStreamHandle>,
 12 |     playlist: Vec<PathBuf>,
 13 |     current_index: usize,
 14 |     current_playing: Option<PathBuf>,
 15 |     skip_list: config::SkipList,
 16 | }
 17 | 
 18 | impl Player {
 19 |     pub fn new() -> Result<Self> {
 20 |         let (stream, stream_handle) = OutputStream::try_default()?;
 21 |         let skip_list = config::SkipList::new()?;
 22 | 
 23 |         Ok(Player {
 24 |             sink: None,
 25 |             _stream: Some(stream),
 26 |             _stream_handle: Some(stream_handle),
 27 |             playlist: Vec::new(),
 28 |             current_index: 0,
 29 |             current_playing: None,
 30 |             skip_list,
 31 |         })
 32 |     }
 33 | 
 34 |     pub fn set_playlist(&mut self, playlist: Vec<PathBuf>) -> Result<()> {
 35 |         self.playlist = self.filter_skipped_tracks(playlist)?;
 36 |         self.current_index = 0;
 37 |         Ok(())
 38 |     }
 39 | 
 40 |     fn filter_skipped_tracks(&mut self, playlist: Vec<PathBuf>) -> Result<Vec<PathBuf>> {
 41 |         let mut filtered = Vec::with_capacity(playlist.len());
 42 | 
 43 |         for path in playlist {
 44 |             if !self.skip_list.is_skipped(&path)? {
 45 |                 filtered.push(path);
 46 |             }
 47 |         }
 48 | 
 49 |         Ok(filtered)
 50 |     }
 51 | 
 52 |     pub fn play_next(&mut self) -> Result<()> {
 53 |         if self.playlist.is_empty() {
 54 |             return Ok(());
 55 |         }
 56 | 
 57 |         if self.current_index >= self.playlist.len() {
 58 |             self.current_index = 0;
 59 |         }
 60 | 
 61 |         let path = self.playlist[self.current_index].clone();
 62 |         println!("Playing: {:?}", path);
 63 |         self.play_file(&path)?;
 64 |         self.current_playing = Some(path);
 65 |         self.current_index = (self.current_index + 1) % self.playlist.len();
 66 |         Ok(())
 67 |     }
 68 | 
 69 |     pub fn play_previous(&mut self) -> Result<()> {
 70 |         if self.playlist.is_empty() {
 71 |             return Ok(());
 72 |         }
 73 | 
 74 |         if self.current_index == 0 {
 75 |             self.current_index = self.playlist.len().saturating_sub(1);
 76 |         } else {
 77 |             self.current_index = self.current_index.saturating_sub(1);
 78 |         }
 79 | 
 80 |         let path = self.playlist[self.current_index].clone();
 81 |         println!("Playing: {:?}", path);
 82 |         self.play_file(&path)?;
 83 |         self.current_playing = Some(path);
 84 | 
 85 |         Ok(())
 86 |     }
 87 | 
 88 |     pub fn play_file<P: AsRef<Path>>(&mut self, path: P) -> Result<()> {
 89 |         if let Some(stream_handle) = &self._stream_handle {
 90 |             let file = File::open(path)?;
 91 |             let reader = BufReader::new(file);
 92 |             let source = Decoder::new(reader)?;
 93 | 
 94 |             let sink = Sink::try_new(stream_handle)?;
 95 |             sink.append(source);
 96 |             self.sink = Some(sink);
 97 |         }
 98 | 
 99 |         Ok(())
100 |     }
101 | 
102 |     pub fn pause(&self) {
103 |         if let Some(sink) = &self.sink {
104 |             sink.pause();
105 |         }
106 |     }
107 | 
108 |     pub fn play(&self) {
109 |         if let Some(sink) = &self.sink {
110 |             sink.play();
111 |         }
112 |     }
113 | 
114 |     pub fn get_current_track(&self) -> Option<&PathBuf> {
115 |         self.current_playing.as_ref()
116 |     }
117 | 
118 |     pub fn is_empty(&self) -> bool {
119 |         if let Some(sink) = &self.sink {
120 |             sink.empty()
121 |         } else {
122 |             true
123 |         }
124 |     }
125 | 
126 |     pub fn handle_playback(&mut self) -> Result<bool> {
127 |         if self.is_empty() && !self.playlist.is_empty() {
128 |             if self.current_index >= self.playlist.len() {
129 |                 println!("End of playlist reached");
130 |                 return Ok(false);
131 |             }
132 | 
133 |             self.play_next()?;
134 |             return Ok(true);
135 |         }
136 | 
137 |         Ok(true)
138 |     }
139 | 
140 |     pub fn is_playing(&self) -> bool {
141 |         if let Some(sink) = &self.sink {
142 |             !sink.is_paused()
143 |         } else {
144 |             false
145 |         }
146 |     }
147 | 
148 |     pub fn increase_volume(&self) {
149 |         if let Some(sink) = &self.sink {
150 |             let current_volume = sink.volume();
151 |             let new_volume = (current_volume + 0.1).min(2.0);
152 |             sink.set_volume(new_volume);
153 |             println!("Volume: {:.0}%", new_volume * 100.0);
154 |         }
155 |     }
156 | 
157 |     pub fn decrease_volume(&self) {
158 |         if let Some(sink) = &self.sink {
159 |             let current_volume = sink.volume();
160 |             let new_volume = (current_volume - 0.1).max(0.0);
161 |             sink.set_volume(new_volume);
162 |             println!("Volume: {:.0}%", new_volume * 100.0);
163 |         }
164 |     }
165 | 
166 |     pub fn mark_skip(&mut self) -> Result<()> {
167 |         if let Some(track) = &self.current_playing {
168 |             self.skip_list.add(track)?;
169 |             println!("Marked for skipping: {:?}", track);
170 |             self.remove_current_from_playlist();
171 |             self.play_next()?;
172 |         }
173 |         Ok(())
174 |     }
175 | 
176 |     fn remove_current_from_playlist(&mut self) {
177 |         if let Some(current) = &self.current_playing {
178 |             // Trouver l'index du fichier en cours dans la playlist
179 |             if let Some(index) = self.playlist.iter().position(|path| path == current) {
180 |                 // Supprimer de la playlist
181 |                 self.playlist.remove(index);
182 | 
183 |                 // Ajuster l'index actuel si nécessaire
184 |                 if index <= self.current_index && self.current_index > 0 {
185 |                     self.current_index -= 1;
186 |                 }
187 |             }
188 |         }
189 |     }
190 | }
191 | 


--------------------------------------------------------------------------------
/src/ui/mod.rs:
--------------------------------------------------------------------------------
  1 | use crossterm::{
  2 |     event::{self, Event, KeyCode, KeyEvent},
  3 |     execute,
  4 |     terminal::{disable_raw_mode, enable_raw_mode, EnterAlternateScreen, LeaveAlternateScreen},
  5 | };
  6 | use std::io::{self, Write};
  7 | use std::path::PathBuf;
  8 | use thiserror::Error;
  9 | 
 10 | #[derive(Error, Debug)]
 11 | pub enum UiError {
 12 |     #[error("IO error: {0}")]
 13 |     Io(#[from] io::Error),
 14 | }
 15 | 
 16 | pub struct UI {
 17 |     playing: bool,
 18 | }
 19 | 
 20 | pub enum UserAction {
 21 |     Quit,
 22 |     PlayPause,
 23 |     Next,
 24 |     Previous,
 25 |     VolumeUp,
 26 |     VolumeDown,
 27 |     MarkFavorite,
 28 |     MarkSkip,
 29 |     Delete,
 30 |     None,
 31 | }
 32 | 
 33 | impl UI {
 34 |     pub fn new() -> Result<Self, UiError> {
 35 |         enable_raw_mode()?;
 36 |         execute!(io::stdout(), EnterAlternateScreen)?;
 37 | 
 38 |         Ok(UI { playing: false })
 39 |     }
 40 | 
 41 |     pub fn draw(&self, current_track: Option<&PathBuf>) -> Result<(), UiError> {
 42 |         // Clear the screen
 43 |         execute!(
 44 |             io::stdout(),
 45 |             crossterm::cursor::MoveTo(0, 0),
 46 |             crossterm::terminal::Clear(crossterm::terminal::ClearType::All)
 47 |         )?;
 48 | 
 49 |         let mut stdout = io::stdout();
 50 | 
 51 |         // Get terminal dimensions
 52 |         let (width, height) = crossterm::terminal::size()?;
 53 | 
 54 |         // Calculate how many lines we can use
 55 |         // Reserve some lines for the header and margins
 56 |         let available_lines = height.saturating_sub(4) as usize;
 57 | 
 58 |         if available_lines < 5 {
 59 |             // Terminal is too small, show minimal interface
 60 |             writeln!(stdout, "KSound - Terminal too small")?;
 61 |             writeln!(stdout, "Please resize your terminal")?;
 62 |             stdout.flush()?;
 63 |             return Ok(());
 64 |         }
 65 | 
 66 |         // Center the title
 67 |         let title = "=== KSound Player ===";
 68 |         let padding = (width as usize).saturating_sub(title.len()) / 2;
 69 |         writeln!(stdout, "{:>width$}{}", "", title, width = padding)?;
 70 | 
 71 |         execute!(stdout, crossterm::cursor::MoveTo(0, 2))?;
 72 | 
 73 |         // Current track display
 74 |         if let Some(track) = current_track {
 75 |             let track_str = track.display().to_string();
 76 |             let max_length = width as usize - 15; // "Now playing: " + margin
 77 | 
 78 |             if track_str.len() > max_length {
 79 |                 let shortened = &track_str[..max_length.saturating_sub(3)];
 80 |                 writeln!(stdout, "Now playing: {}...", shortened)?;
 81 |             } else {
 82 |                 writeln!(stdout, "Now playing: {}", track_str)?;
 83 |             }
 84 |         } else {
 85 |             writeln!(stdout, "No track playing")?;
 86 |         };
 87 | 
 88 |         // Controls section
 89 |         execute!(stdout, crossterm::cursor::MoveTo(0, 4))?;
 90 | 
 91 |         // Define controls
 92 |         let controls = [
 93 |             "Space: Play/Pause",
 94 |             "→: Next track",
 95 |             "←: Previous track",
 96 |             "f: Mark as favorite",
 97 |             "s: Mark to skip",
 98 |             "d: Delete file",
 99 |             "+/-: Volume up/down",
100 |             "q: Quit",
101 |         ];
102 | 
103 |         // Calculate max controls to display based on available space
104 |         let usable_lines = available_lines.saturating_sub(4); // Header took 4 lines
105 |         let max_control_width = 25;
106 |         let cols = (width as usize / max_control_width).max(1);
107 |         let rows = (controls.len() + cols - 1) / cols; // Ceiling division
108 | 
109 |         // Ensure we don't exceed available height
110 |         let rows_to_show = rows.min(usable_lines);
111 |         let controls_to_show = rows_to_show * cols;
112 | 
113 |         // Display controls in columns
114 |         for row in 0..rows_to_show {
115 |             write!(stdout, "  ")?;
116 |             for col in 0..cols {
117 |                 let idx = row + col * rows_to_show;
118 |                 if idx < controls.len() {
119 |                     write!(stdout, "{:<25}", controls[idx])?;
120 |                 }
121 |             }
122 |             writeln!(stdout)?;
123 |         }
124 | 
125 |         // If we couldn't show all controls, indicate more are available
126 |         if controls_to_show < controls.len() {
127 |             writeln!(
128 |                 stdout,
129 |                 "  (More controls available - resize terminal to see all)"
130 |             )?;
131 |         }
132 | 
133 |         stdout.flush()?;
134 |         Ok(())
135 |     }
136 | 
137 |     pub fn handle_input(&mut self) -> Result<UserAction, UiError> {
138 |         if event::poll(std::time::Duration::from_millis(100))? {
139 |             if let Event::Key(KeyEvent { code, .. }) = event::read()? {
140 |                 return Ok(match code {
141 |                     KeyCode::Char('q') => UserAction::Quit,
142 |                     KeyCode::Char(' ') => UserAction::PlayPause,
143 |                     KeyCode::Right => UserAction::Next,
144 |                     KeyCode::Left => UserAction::Previous,
145 |                     KeyCode::Char('f') => UserAction::MarkFavorite,
146 |                     KeyCode::Char('s') => UserAction::MarkSkip,
147 |                     KeyCode::Char('d') => UserAction::Delete,
148 |                     KeyCode::Char('+') => UserAction::VolumeUp,
149 |                     KeyCode::Char('-') => UserAction::VolumeDown,
150 |                     _ => UserAction::None,
151 |                 });
152 |             }
153 |         }
154 | 
155 |         Ok(UserAction::None)
156 |     }
157 | 
158 |     pub fn set_playing(&mut self, playing: bool) {
159 |         self.playing = playing;
160 |     }
161 | }
162 | 
163 | impl Drop for UI {
164 |     fn drop(&mut self) {
165 |         let _ = disable_raw_mode();
166 |         let _ = execute!(io::stdout(), LeaveAlternateScreen);
167 |     }
168 | }
169 | 


--------------------------------------------------------------------------------
